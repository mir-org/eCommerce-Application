!function(){"use strict";var e={183:function(e,t,n){n.r(t)},745:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerAPI=void 0;const i=n(430),o=n(524),r=n(170);t.CustomerAPI=class{static loginCustomer(e,t){return s(this,void 0,void 0,(function*(){const n=`${i.CTP_API_URL}/${i.CTP_PROJECT_KEY}/me/login`,s=yield o.AuthAPI.fetchPasswordToken(e,t);if(s!==o.AuthStatusCodes.successfulPasswordTokenFetch)return s;return(yield fetch(n,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem(i.TOKEN_STORAGE_KEY)}`},body:JSON.stringify({email:e,password:t})})).status}))}static registerCustomer(e){return s(this,void 0,void 0,(function*(){const t=`${i.CTP_API_URL}/${i.CTP_PROJECT_KEY}/me/signup`,n=yield fetch(t,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem(i.TOKEN_STORAGE_KEY)}`},body:JSON.stringify({email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,dateOfBirth:e.dateOfBirth,addresses:e.addresses,defaultShippingAddress:e.defaultShippingAddress,shippingAddresses:e.shippingAddresses,defaultBillingAddress:e.defaultBillingAddress,billingAddresses:e.billingAddresses})});return n.status!==r.StatusCodes.successfulRegistration||(yield o.AuthAPI.fetchPasswordToken(e.email,e.password),yield this.loginCustomer(e.email,e.password)),n.status}))}static getCustomerInfo(){return s(this,void 0,void 0,(function*(){const e=`${i.CTP_API_URL}/${i.CTP_PROJECT_KEY}/me`,t=yield fetch(e,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem(i.TOKEN_STORAGE_KEY)}`}}),n=yield t.json();console.log("getInfo",n)}))}}},170:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.StatusCodes=void 0,function(e){e[e.successfulLogin=200]="successfulLogin",e[e.successfulRegistration=201]="successfulRegistration"}(n||(t.StatusCodes=n={}))},430:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TOKEN_STORAGE_KEY=t.CTP_SCOPES=t.CTP_API_URL=t.CTP_AUTH_URL=t.CTP_CLIENT_ID=t.CTP_CLIENT_SECRET=t.CTP_PROJECT_KEY=void 0;t.CTP_PROJECT_KEY="beat-amazon";t.CTP_CLIENT_SECRET="Q-Re7QPpJHlYELukt_igPBIHx6mOx13q";t.CTP_CLIENT_ID="X5YO3W0sZrwcRNYQexE8np0q";t.CTP_AUTH_URL="https://auth.europe-west1.gcp.commercetools.com";t.CTP_API_URL="https://api.europe-west1.gcp.commercetools.com";t.CTP_SCOPES="manage_my_quote_requests:beat-amazon manage_my_orders:beat-amazon view_products:beat-amazon manage_my_quotes:beat-amazon view_categories:beat-amazon manage_my_shopping_lists:beat-amazon view_published_products:beat-amazon manage_my_business_units:beat-amazon manage_my_payments:beat-amazon create_anonymous_token:beat-amazon manage_my_profile:beat-amazon";t.TOKEN_STORAGE_KEY="access-token"},524:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthAPI=t.AuthStatusCodes=void 0;const i=n(430);var o;!function(e){e[e.successfulPasswordTokenFetch=200]="successfulPasswordTokenFetch"}(o||(t.AuthStatusCodes=o={}));t.AuthAPI=class{static setAccessToken(){return s(this,void 0,void 0,(function*(){localStorage.getItem(i.TOKEN_STORAGE_KEY)||(yield this.fetchAnonymousToken())}))}static fetchAnonymousToken(){return s(this,void 0,void 0,(function*(){const e=`${i.CTP_AUTH_URL}/oauth/${i.CTP_PROJECT_KEY}/anonymous/token?grant_type=client_credentials`,t=yield fetch(e,{method:"POST",headers:{Authorization:`Basic ${btoa(`${i.CTP_CLIENT_ID}:${i.CTP_CLIENT_SECRET}`)}`}}),n=(yield t.json()).access_token;localStorage.setItem(i.TOKEN_STORAGE_KEY,n)}))}static fetchPasswordToken(e,t){return s(this,void 0,void 0,(function*(){const n=`${i.CTP_AUTH_URL}/oauth/${i.CTP_PROJECT_KEY}/customers/token?grant_type=password&username=${e}&password=${t}`,s=yield fetch(n,{method:"POST",headers:{Authorization:`Basic ${btoa(`${i.CTP_CLIENT_ID}:${i.CTP_CLIENT_SECRET}`)}`}});if(s.status!==o.successfulPasswordTokenFetch)return s.status;const r=(yield s.json()).access_token;return localStorage.setItem(i.TOKEN_STORAGE_KEY,r),s.status}))}static fetchRefreshToken(e){return s(this,void 0,void 0,(function*(){const t=`${i.CTP_AUTH_URL}/oauth/token?grant_type=refresh_token&refresh_token=${e}`,n=yield fetch(t,{method:"POST",headers:{Authorization:`Basic ${btoa(`${i.CTP_CLIENT_ID}:${i.CTP_CLIENT_SECRET}`)}`}}),s=(yield n.json()).access_token;localStorage.setItem(i.TOKEN_STORAGE_KEY,s)}))}}},477:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=n(903),d=a(n(754)),u=a(n(271)),h=a(n(707)),c=a(n(83)),E=n(413),m=a(n(22)),p=n(524);t.default=class{constructor(){p.AuthAPI.setAccessToken(),this.header=null,this.main=null;const e=new m.default,t=this.createRoutes(e);this.router=new l.Router(t,e),this.createView(e)}createView(e){const t=new c.default;this.header=new u.default(this.router,e),this.main=new h.default;const n=new d.default;t.getHTMLElement().append(this.header.getHTMLElement(),this.main.getHTMLElement(),n.getHTMLElement()),document.body.append(t.getHTMLElement())}createRoutes(e){return[{path:"",callback:()=>r(this,void 0,void 0,(function*(){const{default:e}=yield Promise.resolve().then((()=>o(n(578))));this.setContent(E.Pages.INDEX,new e(this.router))}))},{path:`${E.Pages.INDEX}`,callback:()=>r(this,void 0,void 0,(function*(){const{default:e}=yield Promise.resolve().then((()=>o(n(578))));this.setContent(E.Pages.INDEX,new e(this.router))}))},{path:`${E.Pages.LOGIN}`,callback:()=>r(this,void 0,void 0,(function*(){const{default:t}=yield Promise.resolve().then((()=>o(n(291))));this.setContent(E.Pages.LOGIN,new t(this.router,this.header,e))}))},{path:`${E.Pages.REGISTRATION}`,callback:()=>r(this,void 0,void 0,(function*(){const{default:t}=yield Promise.resolve().then((()=>o(n(156))));this.setContent(E.Pages.REGISTRATION,new t(this.router,this.header,e))}))},{path:`${E.Pages.NOT_FOUND}`,callback:()=>r(this,void 0,void 0,(function*(){const{default:e}=yield Promise.resolve().then((()=>o(n(15))));this.setContent(E.Pages.NOT_FOUND,new e(this.router))}))}]}setContent(e,t){var n,s;null===(n=this.header)||void 0===n||n.setSelectedItem(e),null===(s=this.main)||void 0===s||s.setContent(t)}}},413:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Pages=void 0;t.Pages={INDEX:"main",LOGIN:"login",REGISTRATION:"registration",NOT_FOUND:"not-found"}},903:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const s=n(413),i="login-status",o="eCommerce-Application/";t.Router=class{constructor(e,t){this.routes=e,this.state=t,document.addEventListener("DOMContentLoaded",(()=>{const e=this.getCurrentPath();this.navigate(e)})),window.addEventListener("popstate",this.browserChangeHandler.bind(this)),window.addEventListener("hashchange",this.browserChangeHandler.bind(this))}navigate(e){const t=this.parseUrl(e),n=""===t.resource?t.path:`${t.path}/${t.resource}`,o=this.routes.find((e=>e.path===n)),r=this.state.getValue(i);t.path!==s.Pages.REGISTRATION&&t.path!==s.Pages.LOGIN||"true"!==r?o?(o.callback(),window.history.pushState(null,"",n)):this.redirectToNotFound():this.redirectToMain()}parseUrl(e){const t=e.split("/"),n={path:"",resource:""};return[n.path="",n.resource=""]=t,n}redirectToNotFound(){const e=this.routes.find((e=>e.path===s.Pages.NOT_FOUND));e&&this.navigate(e.path)}redirectToMain(){const e=this.routes.find((e=>e.path===s.Pages.INDEX));e&&this.navigate(e.path)}browserChangeHandler(){const e=this.getCurrentPath();this.navigate(e)}getCurrentPath(){return window.location.hash?window.location.hash.slice(1).replace(o,""):window.location.pathname.slice(1).replace(o,"")}}},22:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n="spaApp";t.default=class{constructor(){this.fields=this.loadState(),window.addEventListener("beforeunload",this.saveState.bind(this))}setValue(e,t){this.fields.set(e,t)}getValue(e){const t=this.fields.get(e);return t||""}saveState(){const e=Object.fromEntries(this.fields.entries());localStorage.setItem(n,JSON.stringify(e))}loadState(){const e=localStorage.getItem(n);if(e){const t=JSON.parse(e);return new Map(Object.entries(t))}return new Map}}},111:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ElementCreator=void 0;class n{constructor(e,t,n){this.element=document.createElement(e),this.setElement(t,n)}setElement(e,t){this.setCssClasses(e),t&&this.setTextContent(t)}getElement(){return this.element}setCssClasses(e){Array.isArray(e)?this.element.classList.add(...e):this.element.classList.add(e)}setTextContent(e){this.element.textContent=e}addInnerElement(e){e instanceof n?this.element.append(e.getElement()):this.element.append(e)}}t.ElementCreator=n},507:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(111),i="primary-wrapper",o="primary-input",r="primary-label",a="primary-error-line";t.default=class{constructor(e,t,n,s,i="text",o=""){this.element=document.createElement("div"),this.inputElement=document.createElement("input"),this.labelElement=document.createElement("label"),this.errorLineElement=document.createElement("div"),this.setElement(e,t,n,i),this.setValue(s),this.setPlaceholder(o)}setElement(e,t,n,s){this.setLabelTextContent(n),this.setCssClasses(e,t),this.labelElement.prepend(this.inputElement),this.element.append(this.labelElement),this.element.append(this.errorLineElement),this.setType(s)}getElement(){return this.element}getInputElement(){return this.inputElement}getErrorLine(){return this.errorLineElement}setValue(e){this.inputElement.value=e}setCssClasses(e,t){this.element.classList.add(`${e}__${t}-input-wrapper`,i),this.inputElement.classList.add(`${e}__${t}-input`,o),this.labelElement.classList.add(`${e}__${t}-label`,r),this.errorLineElement.classList.add(a)}setLabelTextContent(e){this.labelElement&&(this.labelElement.textContent=e)}setType(e){this.inputElement.setAttribute("type",e)}setPlaceholder(e){this.inputElement.setAttribute("placeholder",e)}addInnerElement(e){e instanceof s.ElementCreator?this.element.append(e.getElement()):this.element.append(e)}}},442:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=void 0;t.Validator=class{static nameField(e){let t="";return e||(t="Name is empty."),/^[a-zA-Z]+$/.test(e)||(t="Wrong format of Name."),t}static emailField(e){let t="";return e?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(e)||(t="Wrong format of email."):t="Email is empty.",t}static passwordField(e){let t="";return e?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(e)||(t="Password must be at least 8 characters long; must contain at least one uppercase letter (A-Z),  at least one lowercase letter (a-z), at least one digit (0-9), must not contain leading or trailing whitespace "):t="Password is empty.",t}static confirmPasswordField(e,t){let n="";return e?e!==t&&(n="Passwords do not match"):n="Password is empty.",n}static birthField(e){let t="";if(e){const n=new Date(e),s=new Date;let i=s.getFullYear()-n.getFullYear();(s.getMonth()<n.getMonth()||s.getMonth()===n.getMonth()&&s.getDate()<n.getDate())&&(i-=1),i<13&&(t="You must be at least 13 years old.")}else t="Date of birth is empty.";return t}static streetField(e){let t="";return e||(t="Street is empty."),t}static cityField(e){let t="";return e?/^[a-zA-Z\s]+$/.test(e)||(t="City must contain only letters and spaces."):t="City is empty.",t}static postalCodeField(e,t){let n="";if(e){("US"===t?/^\d{5}(-\d{4})?$/:/^[0-9]{6}$/).test(e)||(n="US"===t?"Invalid USA postal code format.":"Invalid Russian postal code format.")}else n="Postal code is empty.";return n}}},754:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(111),i=n(644);class o extends i.View{constructor(){super("footer","footer"),this.configView()}configView(){const e=new s.ElementCreator("a","footer__link","");e.getElement().setAttribute("href","https://rs.school/js/"),e.getElement().setAttribute("target","_blank"),e.getElement().setAttribute("rel","noopener noreferrer"),this.viewElementCreator.addInnerElement(e);const t=new s.ElementCreator("img","footer__link-image","");t.getElement().setAttribute("src","./assets/images/rs_school_js.svg"),e.addInnerElement(t);const n=new s.ElementCreator("div","footer__text-team","Developed by New World Disorder");this.viewElementCreator.addInnerElement(n);const i=new s.ElementCreator("div","footer__text-year","2023");this.viewElementCreator.addInnerElement(i)}}t.default=o},271:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(111),r=n(644),a=i(n(563)),l=n(413),d=n(524),u="header",h=["header__nav","nav"],c="header__logout-button",E="show",m="hide",p={INDEX:"Main",LOGIN:"Login",REGISTRATION:"Registration"},I="Logout",_="login-status";class g extends r.View{constructor(e,t){super("header",u),this.headerLinkElements=new Map,this.logoutButton=null,this.configView(e,t)}configView(e,t){this.addNavigation(e,t),this.addLogoutButton(e,t)}setSelectedItem(e){const t=this.headerLinkElements.get(e.toUpperCase());t instanceof a.default&&t.setSelectedStatus()}customerLogin(e){var t;null===(t=this.logoutButton)||void 0===t||t.classList.add("show"),this.hideLoginLink(e)}hideLoginLink(e){if("true"===e.getValue(_)){const e=this.headerLinkElements.get("LOGIN");null==e||e.getHTMLElement().classList.add(m);const t=this.headerLinkElements.get("REGISTRATION");null==t||t.getHTMLElement().classList.add(m)}}showLogoutButton(e){var t;"true"===e.getValue(_)&&(null===(t=this.logoutButton)||void 0===t||t.classList.add(E))}addNavigation(e,t){const n=new o.ElementCreator("nav",h);Object.keys(p).forEach((t=>{const s={name:p[t],callback:()=>e.navigate(l.Pages[t])},i=new a.default(s.name,s.callback,this.headerLinkElements);n.addInnerElement(i.getHTMLElement()),this.headerLinkElements.set(l.Pages[t].toUpperCase(),i)})),this.hideLoginLink(t),this.viewElementCreator.addInnerElement(n)}addLogoutButton(e,t){const n=new o.ElementCreator("button",c,I).getElement();this.logoutButton=n,n.addEventListener("click",this.logoutButtonClickFn.bind(this,e,t)),this.showLogoutButton(t),this.viewElementCreator.addInnerElement(n)}logoutButtonClickFn(e,t){var n;return s(this,void 0,void 0,(function*(){yield d.AuthAPI.fetchAnonymousToken(),e.navigate(l.Pages.LOGIN),null===(n=this.logoutButton)||void 0===n||n.classList.remove(E);const s=this.headerLinkElements.get("LOGIN");null==s||s.getHTMLElement().classList.remove(m);const i=this.headerLinkElements.get("REGISTRATION");null==i||i.getHTMLElement().classList.remove(m),t.setValue(_,"false")}))}}t.default=g},563:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644),i="nav__item",o="nav__item_selected";class r extends s.View{constructor(e,t,n){super("a",i,e),this.linkElements=n,this.pageCallback=t,this.configView()}setSelectedStatus(){this.linkElements.forEach((e=>e.setNotSelectedStatus()));this.viewElementCreator.getElement().classList.add(o)}setNotSelectedStatus(){this.viewElementCreator.getElement().classList.remove(o)}configView(){this.viewElementCreator.getElement().addEventListener("click",(()=>{this.setSelectedStatus.bind(this),this.pageCallback()}))}}t.default=r},578:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(111),o=n(644),r=s(n(563)),a=n(413),l="index",d="index__title",u="index__wrapper",h="index__btn",c="primary-button",E={LOGIN:"Login",REGISTRATION:"Registration"};class m extends o.View{constructor(e){super("section",l),this.headerLinkElements=new Map,this.configView(e)}configView(e){const t=new i.ElementCreator("h1",d);this.viewElementCreator.addInnerElement(t);const n=new i.ElementCreator("div",u);this.viewElementCreator.addInnerElement(n),Object.keys(E).forEach((t=>{const s={name:E[t],callback:()=>e.navigate(a.Pages[t])},i=new r.default(s.name,s.callback,this.headerLinkElements);i.getHTMLElement().classList.add(h,c),n.addInnerElement(i.getHTMLElement()),this.headerLinkElements.set(a.Pages[t].toUpperCase(),i)}))}}t.default=m},684:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_FOR_SAVE=t.INITIAL_VALUE=t.TYPE=t.TEXT=t.CssClasses=void 0,t.CssClasses={TITLE:"login__title",LOGIN:"login",ERROR_LINE:"login_error-line",ERROR_LINE_SHOW:"show",FORM:"login__form",EMAIL_INPUT:"email",PASSWORD_INPUT:"password",INPUT_INVALID:"invalid",LOGIN_BUTTON:["login__button","primary-button"],SHOW_HIDE_ICON:["material-symbols-outlined","login__show-hide-icon"],REGISTRATION_LINK:["login__registration-link"]},t.TEXT={TITLE:"LOGIN",ERROR_LINE:"Incorrect username or password",FORM:"",EMAIL_INPUT:"Ел.адрес",PASSWORD_INPUT:"Пароль",BUTTON:"Войти",SHOW_HIDE_ICON:{VISIBLE:"visibility",VISIBLE_OFF:"visibility_off"},REGISTRATION_LINK:"Зарегистрироваться"},t.TYPE={INPUT_TYPE:{EMAIL:"text",PASSWORD:"password",TEXT:"text"},BUTTON_TYPE:"submit"},t.INITIAL_VALUE={INPUT_VALUE:{EMAIL:"",PASSWORD:""},PLACEHOLDER:{EMAIL:"",PASSWORD:""},ERROR_LINE:""},t.KEY_FOR_SAVE={LOGIN_STATUS:"login-status"}},291:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(745),r=n(524),a=n(413),l=n(111),d=i(n(507)),u=n(644),h=n(684),c=n(442);class E extends u.View{constructor(e,t,n){super("section",h.CssClasses.LOGIN),this.router=e,this.header=t,this.state=n,this.form=null,this.errorLine=null,this.emailInput=null,this.passwordInput=null,this.configView()}configView(){this.addTitle(),this.addErrorLine(),this.addForm(),this.configForm(),this.addRegistrationLink()}configForm(){this.addEmailInput(),this.addPasswordInput(),this.addLoginButton()}addTitle(){const e=new l.ElementCreator("h1",h.CssClasses.TITLE,h.TEXT.TITLE);this.viewElementCreator.addInnerElement(e)}addErrorLine(){const e=new l.ElementCreator("div",h.CssClasses.ERROR_LINE,h.TEXT.ERROR_LINE).getElement();this.errorLine=e,this.viewElementCreator.addInnerElement(e)}addForm(){const e=new l.ElementCreator("form",h.CssClasses.FORM,h.TEXT.FORM);this.form=e,this.viewElementCreator.addInnerElement(e.getElement())}addEmailInput(){var e;const t=new d.default(h.CssClasses.LOGIN,h.CssClasses.EMAIL_INPUT,h.TEXT.EMAIL_INPUT,h.INITIAL_VALUE.INPUT_VALUE.EMAIL,h.TYPE.INPUT_TYPE.EMAIL,h.INITIAL_VALUE.PLACEHOLDER.EMAIL),n=t.getInputElement();this.emailInput=t,n.addEventListener("input",(()=>{this.inputValidation(t,(()=>c.Validator.emailField(n.value))),this.inputKeydownFn()})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addPasswordInput(){var e;const t=new d.default(h.CssClasses.LOGIN,h.CssClasses.PASSWORD_INPUT,h.TEXT.PASSWORD_INPUT,h.INITIAL_VALUE.INPUT_VALUE.PASSWORD,h.TYPE.INPUT_TYPE.PASSWORD,h.INITIAL_VALUE.PLACEHOLDER.PASSWORD);this.addShowHidePasswordIcon(t);const n=t.getInputElement();this.passwordInput=t,n.addEventListener("input",(()=>{this.inputValidation(t,(()=>c.Validator.passwordField(n.value))),this.inputKeydownFn()})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addShowHidePasswordIcon(e){const t=new l.ElementCreator("span",h.CssClasses.SHOW_HIDE_ICON,h.TEXT.SHOW_HIDE_ICON.VISIBLE);t.getElement().addEventListener("click",this.showHidePasswordFn.bind(this,t)),e.addInnerElement(t)}addLoginButton(){var e;const t=new l.ElementCreator("button",h.CssClasses.LOGIN_BUTTON,h.TEXT.BUTTON).getElement();t.setAttribute("type",h.TYPE.BUTTON_TYPE),t.addEventListener("click",(e=>this.loginButtonClickFn.call(this,e))),null===(e=this.form)||void 0===e||e.addInnerElement(t)}addRegistrationLink(){const e=new l.ElementCreator("a",h.CssClasses.REGISTRATION_LINK,h.TEXT.REGISTRATION_LINK).getElement();e.addEventListener("click",(e=>this.registrationLinkClickFn.call(this,e))),this.viewElementCreator.addInnerElement(e)}inputKeydownFn(){var e;null===(e=this.errorLine)||void 0===e||e.classList.remove(h.CssClasses.ERROR_LINE_SHOW)}inputValidation(e,t){const n=e.getInputElement(),s=e.getErrorLine(),i=t();return i?(n.classList.add(h.CssClasses.INPUT_INVALID),s.textContent=`${i}`,!1):(n.classList.remove(h.CssClasses.INPUT_INVALID),s.textContent=h.INITIAL_VALUE.ERROR_LINE,!0)}loginButtonClickFn(e){var t,n;return s(this,void 0,void 0,(function*(){if(!this.emailInput||!this.passwordInput)throw new Error;e.preventDefault();if(!this.isFormsValid.call(this,this.emailInput,this.passwordInput))return;const s=this.emailInput.getInputElement().value,i=this.passwordInput.getInputElement().value;(yield o.CustomerAPI.loginCustomer(s,i))===r.AuthStatusCodes.successfulPasswordTokenFetch?(this.router.navigate(a.Pages.INDEX),this.state.setValue(h.KEY_FOR_SAVE.LOGIN_STATUS,"true"),null===(t=this.header)||void 0===t||t.customerLogin(this.state)):null===(n=this.errorLine)||void 0===n||n.classList.add(h.CssClasses.ERROR_LINE_SHOW)}))}isFormsValid(e,t){const n=this.inputValidation.call(this,e,(()=>c.Validator.emailField(e.getInputElement().value))),s=this.inputValidation.call(this,t,(()=>c.Validator.passwordField(t.getInputElement().value)));return!(!n||!s)}showHidePasswordFn(e){var t,n;const s=e.getElement();(null===(t=this.passwordInput)||void 0===t?void 0:t.getInputElement().getAttribute("type"))===h.TYPE.INPUT_TYPE.PASSWORD?(this.passwordInput.getInputElement().setAttribute("type",h.TYPE.INPUT_TYPE.TEXT),s.textContent=h.TEXT.SHOW_HIDE_ICON.VISIBLE_OFF):(null===(n=this.passwordInput)||void 0===n||n.getInputElement().setAttribute("type",h.TYPE.INPUT_TYPE.PASSWORD),s.textContent=h.TEXT.SHOW_HIDE_ICON.VISIBLE)}registrationLinkClickFn(e){e.preventDefault(),this.router.navigate(a.Pages.REGISTRATION)}}t.default=E},707:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644);class i extends s.View{constructor(){super("main","main")}}t.default=i},15:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644),i=n(111),o=n(413);class r extends s.View{constructor(e){super("section","not-found"),this.router=e,this.configView()}configView(){this.addImageBlock(),this.addTextBlock()}addImageBlock(){const e=new i.ElementCreator("div","not-found__image-block","");this.viewElementCreator.addInnerElement(e);const t=new i.ElementCreator("img","not-found__image-block-img","");t.getElement().setAttribute("src","./assets/images/error-404.png"),e.addInnerElement(t)}addTextBlock(){const e=new i.ElementCreator("div","not-found__text","");this.viewElementCreator.addInnerElement(e);const t=new i.ElementCreator("h1","not-found__text__head","Error 404");e.addInnerElement(t);const n=new i.ElementCreator("div","not-found__text-l","Page Not Found");e.addInnerElement(n);const s=new i.ElementCreator("div","not-found__text-m","We broke something!");e.addInnerElement(s);const o=new i.ElementCreator("div","not-found__text-s","Or you did...");e.addInnerElement(o);const r=new i.ElementCreator("a","not-found__text-link","Back to main").getElement();r.addEventListener("click",(e=>this.registrationLinkClickFn.call(this,e))),e.addInnerElement(r)}registrationLinkClickFn(e){e.preventDefault(),this.router.navigate(o.Pages.INDEX)}}t.default=r},627:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_FOR_SAVE=t.INITIAL_VALUE=t.TYPE=t.SIGN_UP_TEXT=t.SIGN_UP_CLASSES=void 0,t.SIGN_UP_CLASSES={REGISTRATION:"registration",TITLE:"registration__title",EMAIL:"email",PASSWORD:"password",CONFIRM_PASSWORD:"confirm-password",FIRST_NAME:"first-name",LAST_NAME:"last-name",DATE_OF_BIRTH:"date-of-birth",CITY:"city",STREET:"street",POSTAL_CODE:"postal-code",COUNTRY:"country",ERROR_LINE:"error",REGISTER_BTN:"primary-button",LOGIN_BTN:"login__registration-link",SHOW_HIDE_ICON:["material-symbols-outlined","registration__show-hide-icon"],SET_DEFAULT_ADDRESS:"set-default",INPUT_INVALID:"invalid",ERROR_LINE_SHOW:"show"},t.SIGN_UP_TEXT={EMAIL:"Email",PASSWORD:"Password",CONFIRM_PASSWORD:"Confirm Password",FIRST_NAME:"First Name",LAST_NAME:"Last Name",DATE_OF_BIRTH:"Date of Birth",CITY:"City",STREET:"Street",POSTAL_CODE:"Postal Code",COUNTRY:"Country",TITLE:"Sign Up",REGISTER_BTN:"Create Account",LOGIN_BTN:"Login",ERROR_LINE:"",SET_DEFAULT_ADDRESS:"Set Default Address",SHOW_HIDE_ICON:{VISIBLE:"visibility",VISIBLE_OFF:"visibility_off"}},t.TYPE={INPUT_TYPE:{EMAIL:"email",PASSWORD:"password",TEXT:"text"},BUTTON_TYPE:"submit"},t.INITIAL_VALUE={INPUT_VALUE:{EMAIL:"",PASSWORD:""},PLACEHOLDER:{EMAIL:"",PASSWORD:""},ERROR_LINE:""},t.KEY_FOR_SAVE={LOGIN_STATUS:"login-status"}},156:function(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(745),r=n(413),a=n(111),l=i(n(507)),d=n(442),u=n(644),h=n(627);class c extends u.View{constructor(e,t,n){super("section",h.SIGN_UP_CLASSES.REGISTRATION),this.router=e,this.header=t,this.state=n,this.form=null,this.btnsWrapper=null,this.firstNameInput=null,this.lastNameInput=null,this.dateOfBirthInput=null,this.emailInput=null,this.passwordInput=null,this.confirmPasswordInput=null,this.shippingAddressFieldSet=null,this.billingAddressFieldSet=null,this.cityShippingAddressInput=null,this.streetShippingAddressInput=null,this.postalCodeShippingAddressInput=null,this.countryShippingAddressInput=null,this.defaultShippingAddressInput=null,this.cityBillingAddressInput=null,this.streetBillingAddressInput=null,this.postalCodeBillingAddressInput=null,this.countryBillingAddressInput=null,this.defaultBillingAddressInput=null,this.errorLine=null,this.configView()}configView(){this.addTitle(),this.addForm(),this.configForm()}addTitle(){const e=new a.ElementCreator("h1",h.SIGN_UP_CLASSES.TITLE,h.SIGN_UP_TEXT.TITLE);this.viewElementCreator.addInnerElement(e)}addForm(){var e;this.form=new a.ElementCreator("form","registration__form"),null===(e=this.form)||void 0===e||e.getElement().addEventListener("submit",(e=>this.handleSubmit(e))),this.viewElementCreator.addInnerElement(this.form.getElement())}configForm(){this.addFirstNameInput(),this.addLastNameInput(),this.addDateOfBirthInput(),this.addEmailInput(),this.addPasswordInput(),this.addConfirmPasswordInput(),this.addShippingFieldSet(),this.addAddressInput(this.shippingAddressFieldSet,"shipping"),this.addCopyButton(),this.addBillingFieldSet(),this.addAddressInput(this.billingAddressFieldSet,"billing"),this.addErrorLine(),this.addControlButtons()}addFirstNameInput(){var e;const t=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.FIRST_NAME,h.SIGN_UP_TEXT.FIRST_NAME,"","text",""),n=t.getInputElement();t.getInputElement().setAttribute("required",""),this.firstNameInput=n,n.addEventListener("input",(()=>{this.inputValidation(t,(()=>d.Validator.nameField(n.value))),this.inputKeydownFn()})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addLastNameInput(){var e;const t=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.LAST_NAME,h.SIGN_UP_TEXT.LAST_NAME,"","text",""),n=t.getInputElement();t.getInputElement().setAttribute("required",""),this.lastNameInput=n,n.addEventListener("input",(()=>{this.inputValidation(t,(()=>d.Validator.nameField(n.value))),this.inputKeydownFn()})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addDateOfBirthInput(){var e;const t=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.DATE_OF_BIRTH,h.SIGN_UP_TEXT.DATE_OF_BIRTH,"","date",""),n=t.getInputElement();t.getInputElement().setAttribute("required",""),this.dateOfBirthInput=n,n.addEventListener("input",(()=>{this.inputValidation(t,(()=>d.Validator.birthField(n.value))),this.inputKeydownFn()})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addEmailInput(){var e;const t=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.EMAIL,h.SIGN_UP_TEXT.EMAIL,"","email",""),n=t.getInputElement();t.getInputElement().setAttribute("required",""),this.emailInput=n,n.addEventListener("input",(()=>{this.inputValidation(t,(()=>d.Validator.emailField(n.value))),this.inputKeydownFn()})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addPasswordInput(){var e;const t=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.PASSWORD,h.SIGN_UP_TEXT.PASSWORD,"","password",""),n=t.getInputElement();t.getInputElement().setAttribute("required",""),this.passwordInput=n,this.addShowHidePasswordIcon(this.passwordInput,t),n.addEventListener("input",(()=>{this.inputValidation(t,(()=>d.Validator.passwordField(n.value))),this.inputKeydownFn()})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addConfirmPasswordInput(){var e;const t=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.CONFIRM_PASSWORD,h.SIGN_UP_TEXT.CONFIRM_PASSWORD,"","password",""),n=t.getInputElement();t.getInputElement().setAttribute("required",""),this.confirmPasswordInput=n,this.addShowHidePasswordIcon(this.confirmPasswordInput,t),n.addEventListener("input",(()=>{var e;const s=null===(e=this.passwordInput)||void 0===e?void 0:e.value;void 0!==s&&(this.inputValidation(t,(()=>d.Validator.confirmPasswordField(n.value,s))),this.inputKeydownFn())})),null===(e=this.form)||void 0===e||e.addInnerElement(t.getElement())}addShowHidePasswordIcon(e,t){const n=new a.ElementCreator("span",h.SIGN_UP_CLASSES.SHOW_HIDE_ICON,h.SIGN_UP_TEXT.SHOW_HIDE_ICON.VISIBLE);n.getElement().addEventListener("click",this.showHidePasswordFn.bind(this,e,n)),t.addInnerElement(n)}addAddressInput(e,t){e&&(this.addCityAddressInput(e,t),this.addStreetAddressInput(e,t),this.addPostalCodeAddressInput(e,t),this.addCountryAddressInput(e,t),this.addDefaultCheckbox(e,t))}addShippingFieldSet(){var e;const t=new a.ElementCreator("fieldset","fieldset");this.shippingAddressFieldSet=t;const n=new a.ElementCreator("legend","legend");n.getElement().textContent="Shipping Address",t.addInnerElement(n),null===(e=this.form)||void 0===e||e.addInnerElement(t)}addBillingFieldSet(){var e;const t=new a.ElementCreator("fieldset","fieldset");this.billingAddressFieldSet=t;const n=new a.ElementCreator("legend","legend");n.getElement().textContent="Billing Address",t.addInnerElement(n),null===(e=this.form)||void 0===e||e.addInnerElement(t)}addCityAddressInput(e,t){const n=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.CITY,h.SIGN_UP_TEXT.CITY,"","text",""),s=n.getInputElement();"shipping"===t?this.cityShippingAddressInput=s:"billing"===t&&(this.cityBillingAddressInput=s),s.addEventListener("input",(()=>{this.inputValidation(n,(()=>d.Validator.cityField(s.value))),this.inputKeydownFn()})),null==e||e.addInnerElement(n.getElement())}addStreetAddressInput(e,t){const n=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.STREET,h.SIGN_UP_TEXT.STREET,"","text",""),s=n.getInputElement();"shipping"===t?this.streetShippingAddressInput=s:"billing"===t&&(this.streetBillingAddressInput=s),s.addEventListener("input",(()=>{this.inputValidation(n,(()=>d.Validator.streetField(s.value))),this.inputKeydownFn()})),null==e||e.addInnerElement(n.getElement())}addPostalCodeAddressInput(e,t){const n=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.POSTAL_CODE,h.SIGN_UP_TEXT.POSTAL_CODE,"","text",""),s=n.getInputElement();"shipping"===t?this.postalCodeShippingAddressInput=s:"billing"===t&&(this.postalCodeBillingAddressInput=s),s.addEventListener("input",(()=>{let e="";this.inputValidation(n,(()=>{var n,i,o,r;return"shipping"===t?e=null!==(i=null===(n=this.countryShippingAddressInput)||void 0===n?void 0:n.value)&&void 0!==i?i:"":"billing"===t&&(e=null!==(r=null===(o=this.countryBillingAddressInput)||void 0===o?void 0:o.value)&&void 0!==r?r:""),d.Validator.postalCodeField(s.value,e)})),this.inputKeydownFn()})),null==e||e.addInnerElement(n.getElement())}addCountryAddressInput(e,t){const n=["USA","Russia"],s=["US","RU"],i=new a.ElementCreator("div",["registration__country-input-wrapper","primary-wrapper"]),o=new a.ElementCreator("label",["registration__country-label","primary-label"]);o.getElement().textContent="Country";const r=new a.ElementCreator("select",["registration__country-input","primary-input"]);for(let e=0;e<n.length;e+=1){const t=document.createElement("option");t.setAttribute("value",s[e]),t.textContent=n[e],r.getElement().appendChild(t)}i.addInnerElement(o.getElement()),o.addInnerElement(r.getElement());const l=r.getElement();"shipping"===t?this.countryShippingAddressInput=l:"billing"===t&&(this.countryBillingAddressInput=l),null==e||e.addInnerElement(i.getElement())}addDefaultCheckbox(e,t){var n;const s=new l.default(h.SIGN_UP_CLASSES.REGISTRATION,h.SIGN_UP_CLASSES.SET_DEFAULT_ADDRESS,h.SIGN_UP_TEXT.SET_DEFAULT_ADDRESS,"","checkbox",""),i=s.getInputElement();"shipping"===t?this.defaultShippingAddressInput=i:"billing"===t&&(this.defaultBillingAddressInput=i),null==e||e.addInnerElement(s.getElement());(null===(n=s.getElement().firstChild)||void 0===n?void 0:n.firstChild).classList.remove("primary-input")}addErrorLine(){var e;const t=new a.ElementCreator("div",h.SIGN_UP_CLASSES.ERROR_LINE,h.SIGN_UP_TEXT.ERROR_LINE).getElement();this.errorLine=t,null===(e=this.form)||void 0===e||e.addInnerElement(t)}addControlButtons(){var e,t,n;this.btnsWrapper=new a.ElementCreator("div","form-buttons"),null===(e=this.btnsWrapper)||void 0===e||e.addInnerElement(this.addRegisterButton()),null===(t=this.btnsWrapper)||void 0===t||t.addInnerElement(this.addLoginButton()),null===(n=this.form)||void 0===n||n.addInnerElement(this.btnsWrapper.getElement())}addRegisterButton(){const e=new a.ElementCreator("button",h.SIGN_UP_CLASSES.REGISTER_BTN,h.SIGN_UP_TEXT.REGISTER_BTN);return e.getElement().setAttribute("type","submit"),e}addLoginButton(){const e=new a.ElementCreator("a",h.SIGN_UP_CLASSES.LOGIN_BTN,h.SIGN_UP_TEXT.LOGIN_BTN);return e.getElement().addEventListener("click",(()=>this.router.navigate(r.Pages.LOGIN))),e}addCopyButton(){var e;const t=new a.ElementCreator("button","primary-button","Set as Billing Address");t.getElement().setAttribute("type","button"),t.getElement().addEventListener("click",this.copyShippingAddressToBillingAddress.bind(this)),null===(e=this.form)||void 0===e||e.addInnerElement(t)}handleSubmit(e){var t,n,i;return s(this,void 0,void 0,(function*(){e.preventDefault();const s=this.getFormData(),a=document.querySelectorAll(".primary-error-line");let l=!0;if(a.forEach((e=>{var t;return""!==(null===(t=e.textContent)||void 0===t?void 0:t.trim())?(l=!1,""):""})),this.errorLine)if(l&&""!==(null===(t=this.emailInput)||void 0===t?void 0:t.value))try{const e=yield o.CustomerAPI.registerCustomer(s);201===e?(this.router.navigate(r.Pages.INDEX),this.state.setValue(h.KEY_FOR_SAVE.LOGIN_STATUS,"true"),null===(n=this.header)||void 0===n||n.customerLogin(this.state),yield o.CustomerAPI.getCustomerInfo(),this.createPopupWithText("Registration successful, automatically logged in!")):this.errorLine.textContent=400===e?"The user with that email already exists!":"Something went wrong!"}catch(e){this.errorLine.textContent=`${e}`}else this.errorLine.textContent="Fix all errors",null===(i=this.errorLine)||void 0===i||i.classList.add(h.SIGN_UP_CLASSES.ERROR_LINE_SHOW)}))}copyShippingAddressToBillingAddress(){var e,t,n,s;const i=null===(e=this.cityShippingAddressInput)||void 0===e?void 0:e.value,o=null===(t=this.streetShippingAddressInput)||void 0===t?void 0:t.value,r=null===(n=this.postalCodeShippingAddressInput)||void 0===n?void 0:n.value,a=null===(s=this.countryShippingAddressInput)||void 0===s?void 0:s.value;void 0!==i&&null!==this.cityBillingAddressInput&&(this.cityBillingAddressInput.value=i,this.cityBillingAddressInput.focus(),this.cityBillingAddressInput.blur()),void 0!==o&&null!==this.streetBillingAddressInput&&(this.streetBillingAddressInput.value=o,this.streetBillingAddressInput.focus(),this.streetBillingAddressInput.blur()),void 0!==r&&null!==this.postalCodeBillingAddressInput&&(this.postalCodeBillingAddressInput.value=r,this.postalCodeBillingAddressInput.focus(),this.postalCodeBillingAddressInput.blur()),void 0!==a&&null!==this.countryBillingAddressInput&&(this.countryBillingAddressInput.value=a)}showHidePasswordFn(e,t){const n=t.getElement();e.getAttribute("type")===h.TYPE.INPUT_TYPE.PASSWORD?(e.setAttribute("type",h.TYPE.INPUT_TYPE.TEXT),n.textContent=h.SIGN_UP_TEXT.SHOW_HIDE_ICON.VISIBLE_OFF):(e.setAttribute("type",h.TYPE.INPUT_TYPE.PASSWORD),n.textContent=h.SIGN_UP_TEXT.SHOW_HIDE_ICON.VISIBLE)}getAddressFormData(e){var t,n,s,i;let o,r,a,l;return"Shipping"===e?(o=this.cityShippingAddressInput,r=this.streetShippingAddressInput,a=this.postalCodeShippingAddressInput,l=this.countryShippingAddressInput):"Billing"===e&&(o=this.cityBillingAddressInput,r=this.streetBillingAddressInput,a=this.postalCodeBillingAddressInput,l=this.countryBillingAddressInput),{country:null!==(t=null==l?void 0:l.value)&&void 0!==t?t:"",streetName:null!==(n=null==r?void 0:r.value)&&void 0!==n?n:"",postalCode:null!==(s=null==a?void 0:a.value)&&void 0!==s?s:"",city:null!==(i=null==o?void 0:o.value)&&void 0!==i?i:""}}getShippingAddressFormData(){return this.getAddressFormData("Shipping")}getBillingAddressFormData(){return this.getAddressFormData("Billing")}getFormData(){var e,t,n,s,i,o,r,a,l,d,u,h;const c={email:null!==(t=null===(e=this.emailInput)||void 0===e?void 0:e.value)&&void 0!==t?t:"",password:null!==(s=null===(n=this.passwordInput)||void 0===n?void 0:n.value)&&void 0!==s?s:"",firstName:null!==(o=null===(i=this.firstNameInput)||void 0===i?void 0:i.value)&&void 0!==o?o:"",lastName:null!==(a=null===(r=this.lastNameInput)||void 0===r?void 0:r.value)&&void 0!==a?a:"",dateOfBirth:null!==(d=null===(l=this.dateOfBirthInput)||void 0===l?void 0:l.value)&&void 0!==d?d:"",addresses:[this.getShippingAddressFormData(),this.getBillingAddressFormData()]};return(null===(u=this.defaultShippingAddressInput)||void 0===u?void 0:u.checked)&&(c.defaultShippingAddress=0),(null===(h=this.defaultBillingAddressInput)||void 0===h?void 0:h.checked)&&(c.defaultBillingAddress=1),c}inputValidation(e,t){const n=e.getInputElement(),s=e.getErrorLine(),i=t();return i?(n.classList.add(h.SIGN_UP_CLASSES.INPUT_INVALID),s.textContent=`${i}`,!1):(n.classList.remove(h.SIGN_UP_CLASSES.INPUT_INVALID),s.textContent=h.INITIAL_VALUE.ERROR_LINE,!0)}inputKeydownFn(){var e;null===(e=this.errorLine)||void 0===e||e.classList.remove(h.SIGN_UP_CLASSES.ERROR_LINE_SHOW)}createPopupWithText(e){const t=new a.ElementCreator("div","popup",e),n=new a.ElementCreator("button","primary-button","Close");n.getElement().addEventListener("click",(()=>{document.body.removeChild(t.getElement())})),t.addInnerElement(n),document.body.appendChild(t.getElement()),setTimeout((()=>{document.body.removeChild(t.getElement())}),2e3)}}t.default=c},644:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;const s=n(111);t.View=class{constructor(e,t,n){this.viewElementCreator=this.createView(e,t,n)}createView(e,t,n){return new s.ElementCreator(e,t,n)}getHTMLElement(){return this.viewElementCreator.getElement()}setContent(e){const t=this.viewElementCreator.getElement(),n=e.getHTMLElement();this.removeContent(t),this.viewElementCreator.addInnerElement(n)}removeContent(e){for(;e.firstChild;)e.firstChild.remove()}}},83:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644),i=["wrapper"];class o extends s.View{constructor(){super("div",i)}}t.default=o},303:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(183);new(s(n(477)).default)}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};n(303)}();