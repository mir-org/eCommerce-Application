{"version":3,"file":"main.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;ACAa;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,mBAAmB,mBAAO,CAAC,sCAAa;AACxC,kBAAkB,mBAAO,CAAC,oDAAoB;AAC9C,4BAA4B,mBAAO,CAAC,mEAAqB;AACzD;AACA;AACA;AACA,2BAA2B,uBAAuB,GAAG,2BAA2B;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,mDAAmD;AAChG,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,uBAAuB,GAAG,2BAA2B;AAChF;AACA;AACA;AACA,6CAA6C,mDAAmD;AAChG,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,uBAAuB,GAAG,2BAA2B;AAChF;AACA;AACA;AACA,6CAA6C,mDAAmD;AAChG,iBAAiB;AACjB,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,mBAAmB;;;;;;;;;;;ACnFN;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB;AACA;AACA;AACA;AACA,CAAC,kBAAkB,mBAAmB,mBAAmB;;;;;;;;;;;ACP5C;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,kBAAkB,GAAG,mBAAmB,GAAG,oBAAoB,GAAG,qBAAqB,GAAG,yBAAyB,GAAG,uBAAuB;AACzK;AACA,uBAAuB;AACvB;AACA,yBAAyB;AACzB;AACA,qBAAqB;AACrB;AACA,oBAAoB;AACpB;AACA,mBAAmB;AACnB;AACA,kBAAkB;AAClB;AACA,yBAAyB;;;;;;;;;;;AChBZ;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,GAAG,uBAAuB;AACzC,mBAAmB,mBAAO,CAAC,sCAAa;AACxC;AACA;AACA;AACA,CAAC,sBAAsB,uBAAuB,uBAAuB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,wBAAwB,SAAS,2BAA2B;AACvF;AACA;AACA;AACA,4CAA4C,QAAQ,yBAAyB,GAAG,6BAA6B,GAAG;AAChH,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,wBAAwB,SAAS,2BAA2B,gDAAgD,MAAM,YAAY,SAAS;AAClK;AACA;AACA;AACA,4CAA4C,QAAQ,yBAAyB,GAAG,6BAA6B,GAAG;AAChH,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,wBAAwB,sDAAsD,MAAM;AAC/G;AACA;AACA;AACA,4CAA4C,QAAQ,yBAAyB,GAAG,6BAA6B,GAAG;AAChH,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,eAAe;;;;;;;;;;;ACxEF;AACb;AACA;AACA;AACA;AACA,eAAe,oCAAoC;AACnD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,0CAA0C,4BAA4B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,+CAAiB;AAC1C,sCAAsC,mBAAO,CAAC,mEAA2B;AACzE,sCAAsC,mBAAO,CAAC,mEAA2B;AACzE,oCAAoC,mBAAO,CAAC,2DAAuB;AACnE,kCAAkC,mBAAO,CAAC,6CAAgB;AAC1D,gBAAgB,mBAAO,CAAC,6CAAgB;AACxC,gCAAgC,mBAAO,CAAC,2CAAe;AACvD,kBAAkB,mBAAO,CAAC,wDAAwB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qBAAqB,kDAAkD,mBAAO,CAAC,yEAA8B;AACzI;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,yBAAyB,oBAAoB;AAC7C;AACA,4BAA4B,qBAAqB,kDAAkD,mBAAO,CAAC,yEAA8B;AACzI;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,yBAAyB,oBAAoB;AAC7C;AACA,4BAA4B,qBAAqB,kDAAkD,mBAAO,CAAC,yEAA8B;AACzI;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,yBAAyB,2BAA2B;AACpD;AACA,4BAA4B,4BAA4B,kDAAkD,mBAAO,CAAC,qGAA4C;AAC9J;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,yBAAyB,wBAAwB;AACjD;AACA,4BAA4B,wBAAwB,kDAAkD,mBAAO,CAAC,yFAAsC;AACpJ;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;ACjHF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;;;;;;;;;;ACTA;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,gBAAgB,mBAAO,CAAC,sCAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,wEAAwE,aAAa,GAAG,iBAAiB;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;;;;;;;;;;ACrDD;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;AC9BF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;;;;;;;;;;ACrCT;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,yDAAmB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,WAAW,IAAI,cAAc;AACnE,2CAA2C,WAAW,IAAI,cAAc;AACxE,2CAA2C,WAAW,IAAI,cAAc;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;AChEF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,IAAI;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,GAAG;AAC7E;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,EAAE,KAAK,EAAE;AACjD,8CAA8C,EAAE;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;;;ACtGJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,mEAA6B;AAC/D,eAAe,mBAAO,CAAC,mCAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;ACxBF;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,mEAA6B;AAC/D,eAAe,mBAAO,CAAC,mCAAS;AAChC,oCAAoC,mBAAO,CAAC,mDAAa;AACzD,gBAAgB,mBAAO,CAAC,iDAAoB;AAC5C,kBAAkB,mBAAO,CAAC,8DAA8B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAe;;;;;;;;;;;AC3GF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,mCAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAe;;;;;;;;;;;AC/BF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,mBAAO,CAAC,sEAAgC;AAClE,eAAe,mBAAO,CAAC,sCAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;ACrBF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,GAAG,qBAAqB,GAAG,YAAY,GAAG,YAAY,GAAG,kBAAkB;AAC/F,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,oBAAoB;AACpB;AACA;;;;;;;;;;;AClDa;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,iFAAyC;AACvE,kBAAkB,mBAAO,CAAC,iEAAiC;AAC3D,gBAAgB,mBAAO,CAAC,oDAAuB;AAC/C,0BAA0B,mBAAO,CAAC,sEAAgC;AAClE,+CAA+C,mBAAO,CAAC,gFAAqC;AAC5F,eAAe,mBAAO,CAAC,sCAAY;AACnC,2BAA2B,mBAAO,CAAC,qEAAoB;AACvD,oBAAoB,mBAAO,CAAC,0DAA0B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,MAAM;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;AC1KF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,mCAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;ACTF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,sCAAY;AACnC,0BAA0B,mBAAO,CAAC,sEAAgC;AAClE,gBAAgB,mBAAO,CAAC,oDAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;AC3CF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB,GAAG,YAAY,GAAG,oBAAoB,GAAG,uBAAuB;AACrF,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;AC/Da;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB,mBAAO,CAAC,iFAAyC;AACvE,kBAAkB,mBAAO,CAAC,iEAAiC;AAC3D,gBAAgB,mBAAO,CAAC,oDAAuB;AAC/C,0BAA0B,mBAAO,CAAC,sEAAgC;AAClE,+CAA+C,mBAAO,CAAC,gFAAqC;AAC5F,oBAAoB,mBAAO,CAAC,0DAA0B;AACtD,eAAe,mBAAO,CAAC,sCAAY;AACnC,kCAAkC,mBAAO,CAAC,0FAA2B;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,MAAM;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;ACrcF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ,0BAA0B,mBAAO,CAAC,gEAA0B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;;;;;;;;;;AC5BC;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe,mBAAO,CAAC,kCAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;ACTF;AACb;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAO,CAAC,wDAAyB;AACjC,8BAA8B,mBAAO,CAAC,+BAAW;AACjD;AACA;;;;;;;UCRA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;UENA;UACA;UACA;UACA","sources":["webpack:///./assets/sass/main.scss?6560","webpack:///./api/CustomerAPI/CustomerAPI.ts","webpack:///./api/CustomerAPI/customer-api-type.ts","webpack:///./api/api-data.ts","webpack:///./api/authAPI/authAPI.ts","webpack:///./app/app.ts","webpack:///./app/router/pages.ts","webpack:///./app/router/router.ts","webpack:///./app/state/state.ts","webpack:///./app/utils/element-creator.ts","webpack:///./app/utils/input-fields-creator.ts","webpack:///./app/utils/validator.ts","webpack:///./app/view/footer/footer-view.ts","webpack:///./app/view/header/header-view.ts","webpack:///./app/view/header/link-view.ts","webpack:///./app/view/main/index/index-view.ts","webpack:///./app/view/main/login/login-view-types.ts","webpack:///./app/view/main/login/login-view.ts","webpack:///./app/view/main/main-view.ts","webpack:///./app/view/main/not-found/not-found-view.ts","webpack:///./app/view/main/registration/registration-view-types.ts","webpack:///./app/view/main/registration/registration-view.ts","webpack:///./app/view/view.ts","webpack:///./app/view/wrapper.ts","webpack:///./index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/make namespace object","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomerAPI = void 0;\nconst api_data_1 = require(\"../api-data\");\nconst authAPI_1 = require(\"../authAPI/authAPI\");\nconst customer_api_type_1 = require(\"./customer-api-type\");\nclass CustomerAPI {\n    static loginCustomer(email, password) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${api_data_1.CTP_API_URL}/${api_data_1.CTP_PROJECT_KEY}/me/login`;\n            const responseStatus = yield authAPI_1.AuthAPI.fetchPasswordToken(email, password);\n            if (responseStatus !== authAPI_1.AuthStatusCodes.successfulPasswordTokenFetch) {\n                return responseStatus;\n            }\n            const response = yield fetch(url, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(api_data_1.TOKEN_STORAGE_KEY)}`,\n                },\n                body: JSON.stringify({\n                    email,\n                    password,\n                }),\n            });\n            return response.status;\n        });\n    }\n    static registerCustomer(customerData) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${api_data_1.CTP_API_URL}/${api_data_1.CTP_PROJECT_KEY}/me/signup`;\n            const response = yield fetch(url, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(api_data_1.TOKEN_STORAGE_KEY)}`,\n                },\n                body: JSON.stringify({\n                    email: customerData.email,\n                    password: customerData.password,\n                    firstName: customerData.firstName,\n                    lastName: customerData.lastName,\n                    dateOfBirth: customerData.dateOfBirth,\n                    addresses: customerData.addresses,\n                    defaultShippingAddress: customerData.defaultShippingAddress,\n                    shippingAddresses: customerData.shippingAddresses,\n                    defaultBillingAddress: customerData.defaultBillingAddress,\n                    billingAddresses: customerData.billingAddresses,\n                }),\n            });\n            if (response.status !== customer_api_type_1.StatusCodes.successfulRegistration) {\n                const data = yield response.json();\n                return {\n                    message: data.message,\n                    statusCode: data.statusCode,\n                };\n            }\n            yield authAPI_1.AuthAPI.fetchPasswordToken(customerData.email, customerData.password);\n            yield this.loginCustomer(customerData.email, customerData.password);\n            return response.status;\n        });\n    }\n    static getCustomerInfo() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${api_data_1.CTP_API_URL}/${api_data_1.CTP_PROJECT_KEY}/me`;\n            const response = yield fetch(url, {\n                method: 'GET',\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(api_data_1.TOKEN_STORAGE_KEY)}`,\n                },\n            });\n            const data = yield response.json();\n            console.log('getInfo', data);\n        });\n    }\n}\nexports.CustomerAPI = CustomerAPI;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StatusCodes = void 0;\nvar StatusCodes;\n(function (StatusCodes) {\n    StatusCodes[StatusCodes[\"successfulLogin\"] = 200] = \"successfulLogin\";\n    StatusCodes[StatusCodes[\"successfulRegistration\"] = 201] = \"successfulRegistration\";\n})(StatusCodes || (exports.StatusCodes = StatusCodes = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TOKEN_STORAGE_KEY = exports.CTP_SCOPES = exports.CTP_API_URL = exports.CTP_AUTH_URL = exports.CTP_CLIENT_ID = exports.CTP_CLIENT_SECRET = exports.CTP_PROJECT_KEY = void 0;\nconst CTP_PROJECT_KEY = 'beat-amazon';\nexports.CTP_PROJECT_KEY = CTP_PROJECT_KEY;\nconst CTP_CLIENT_SECRET = 'Q-Re7QPpJHlYELukt_igPBIHx6mOx13q';\nexports.CTP_CLIENT_SECRET = CTP_CLIENT_SECRET;\nconst CTP_CLIENT_ID = 'X5YO3W0sZrwcRNYQexE8np0q';\nexports.CTP_CLIENT_ID = CTP_CLIENT_ID;\nconst CTP_AUTH_URL = 'https://auth.europe-west1.gcp.commercetools.com';\nexports.CTP_AUTH_URL = CTP_AUTH_URL;\nconst CTP_API_URL = 'https://api.europe-west1.gcp.commercetools.com';\nexports.CTP_API_URL = CTP_API_URL;\nconst CTP_SCOPES = 'manage_my_quote_requests:beat-amazon manage_my_orders:beat-amazon view_products:beat-amazon manage_my_quotes:beat-amazon view_categories:beat-amazon manage_my_shopping_lists:beat-amazon view_published_products:beat-amazon manage_my_business_units:beat-amazon manage_my_payments:beat-amazon create_anonymous_token:beat-amazon manage_my_profile:beat-amazon';\nexports.CTP_SCOPES = CTP_SCOPES;\nconst TOKEN_STORAGE_KEY = 'access-token';\nexports.TOKEN_STORAGE_KEY = TOKEN_STORAGE_KEY;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthAPI = exports.AuthStatusCodes = void 0;\nconst api_data_1 = require(\"../api-data\");\nvar AuthStatusCodes;\n(function (AuthStatusCodes) {\n    AuthStatusCodes[AuthStatusCodes[\"successfulPasswordTokenFetch\"] = 200] = \"successfulPasswordTokenFetch\";\n})(AuthStatusCodes || (exports.AuthStatusCodes = AuthStatusCodes = {}));\nclass AuthAPI {\n    static setAccessToken() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!localStorage.getItem(api_data_1.TOKEN_STORAGE_KEY)) {\n                yield this.fetchAnonymousToken();\n            }\n        });\n    }\n    static fetchAnonymousToken() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${api_data_1.CTP_AUTH_URL}/oauth/${api_data_1.CTP_PROJECT_KEY}/anonymous/token?grant_type=client_credentials`;\n            const response = yield fetch(url, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Basic ${btoa(`${api_data_1.CTP_CLIENT_ID}:${api_data_1.CTP_CLIENT_SECRET}`)}`,\n                },\n            });\n            const data = yield response.json();\n            const accessToken = data.access_token;\n            localStorage.setItem(api_data_1.TOKEN_STORAGE_KEY, accessToken);\n        });\n    }\n    static fetchPasswordToken(email, password) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${api_data_1.CTP_AUTH_URL}/oauth/${api_data_1.CTP_PROJECT_KEY}/customers/token?grant_type=password&username=${email}&password=${password}`;\n            const response = yield fetch(url, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Basic ${btoa(`${api_data_1.CTP_CLIENT_ID}:${api_data_1.CTP_CLIENT_SECRET}`)}`,\n                },\n            });\n            if (response.status !== AuthStatusCodes.successfulPasswordTokenFetch) {\n                return response.status;\n            }\n            const data = yield response.json();\n            const accessToken = data.access_token;\n            localStorage.setItem(api_data_1.TOKEN_STORAGE_KEY, accessToken);\n            return response.status;\n        });\n    }\n    static fetchRefreshToken(token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${api_data_1.CTP_AUTH_URL}/oauth/token?grant_type=refresh_token&refresh_token=${token}`;\n            const response = yield fetch(url, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Basic ${btoa(`${api_data_1.CTP_CLIENT_ID}:${api_data_1.CTP_CLIENT_SECRET}`)}`,\n                },\n            });\n            const data = yield response.json();\n            const accessToken = data.access_token;\n            localStorage.setItem(api_data_1.TOKEN_STORAGE_KEY, accessToken);\n        });\n    }\n}\nexports.AuthAPI = AuthAPI;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst router_1 = require(\"./router/router\");\nconst footer_view_1 = __importDefault(require(\"./view/footer/footer-view\"));\nconst header_view_1 = __importDefault(require(\"./view/header/header-view\"));\nconst main_view_1 = __importDefault(require(\"./view/main/main-view\"));\nconst wrapper_1 = __importDefault(require(\"./view/wrapper\"));\nconst pages_1 = require(\"./router/pages\");\nconst state_1 = __importDefault(require(\"./state/state\"));\nconst authAPI_1 = require(\"../api/authAPI/authAPI\");\nclass App {\n    constructor() {\n        authAPI_1.AuthAPI.setAccessToken();\n        this.header = null;\n        this.main = null;\n        const state = new state_1.default();\n        const routes = this.createRoutes(state);\n        this.router = new router_1.Router(routes);\n        this.createView(state);\n    }\n    createView(state) {\n        const wrapperView = new wrapper_1.default();\n        this.header = new header_view_1.default(this.router, state);\n        this.main = new main_view_1.default();\n        const footer = new footer_view_1.default();\n        wrapperView\n            .getHTMLElement()\n            .append(this.header.getHTMLElement(), this.main.getHTMLElement(), footer.getHTMLElement());\n        document.body.append(wrapperView.getHTMLElement());\n    }\n    /* eslint-disable max-lines-per-function */\n    createRoutes(state) {\n        const result = [\n            {\n                path: '',\n                callback: () => __awaiter(this, void 0, void 0, function* () {\n                    const { default: IndexView } = yield Promise.resolve().then(() => __importStar(require('./view/main/index/index-view')));\n                    this.setContent(pages_1.Pages.INDEX, new IndexView());\n                }),\n            },\n            {\n                path: `${pages_1.Pages.INDEX}`,\n                callback: () => __awaiter(this, void 0, void 0, function* () {\n                    const { default: IndexView } = yield Promise.resolve().then(() => __importStar(require('./view/main/index/index-view')));\n                    this.setContent(pages_1.Pages.INDEX, new IndexView());\n                }),\n            },\n            {\n                path: `${pages_1.Pages.LOGIN}`,\n                callback: () => __awaiter(this, void 0, void 0, function* () {\n                    const { default: LoginView } = yield Promise.resolve().then(() => __importStar(require('./view/main/login/login-view')));\n                    this.setContent(pages_1.Pages.LOGIN, new LoginView(this.router, this.header, state));\n                }),\n            },\n            {\n                path: `${pages_1.Pages.REGISTRATION}`,\n                callback: () => __awaiter(this, void 0, void 0, function* () {\n                    const { default: RegistrationView } = yield Promise.resolve().then(() => __importStar(require('./view/main/registration/registration-view')));\n                    this.setContent(pages_1.Pages.REGISTRATION, new RegistrationView(this.router));\n                }),\n            },\n            {\n                path: `${pages_1.Pages.NOT_FOUND}`,\n                callback: () => __awaiter(this, void 0, void 0, function* () {\n                    const { default: NotFoundView } = yield Promise.resolve().then(() => __importStar(require('./view/main/not-found/not-found-view')));\n                    this.setContent(pages_1.Pages.NOT_FOUND, new NotFoundView(this.router));\n                }),\n            },\n        ];\n        return result;\n    }\n    /* eslint-enable max-lines-per-function */\n    setContent(page, view) {\n        var _a, _b;\n        (_a = this.header) === null || _a === void 0 ? void 0 : _a.setSelectedItem(page);\n        (_b = this.main) === null || _b === void 0 ? void 0 : _b.setContent(view);\n    }\n}\nexports.default = App;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Pages = void 0;\nconst Pages = {\n    INDEX: 'main',\n    LOGIN: 'login',\n    REGISTRATION: 'registration',\n    NOT_FOUND: 'not-found',\n};\nexports.Pages = Pages;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Router = void 0;\nconst pages_1 = require(\"./pages\");\nconst BROWSER_ROUTER_BASENAME = 'eCommerce-Application/';\nclass Router {\n    constructor(routes) {\n        this.routes = routes;\n        document.addEventListener('DOMContentLoaded', () => {\n            const path = this.getCurrentPath();\n            this.navigate(path);\n        });\n        window.addEventListener('popstate', this.browserChangeHandler.bind(this));\n        window.addEventListener('hashchange', this.browserChangeHandler.bind(this));\n    }\n    navigate(url) {\n        const request = this.parseUrl(url);\n        const pathForFind = request.resource === '' ? request.path : `${request.path}/${request.resource}`;\n        const route = this.routes.find((item) => item.path === pathForFind);\n        if (!route) {\n            this.redirectToNotFound();\n        }\n        else {\n            route.callback();\n            window.history.pushState(null, '', pathForFind);\n        }\n    }\n    parseUrl(url) {\n        const path = url.split('/');\n        const result = {\n            path: '',\n            resource: '',\n        };\n        [result.path = '', result.resource = ''] = path;\n        return result;\n    }\n    redirectToNotFound() {\n        const routeNotFound = this.routes.find((item) => item.path === pages_1.Pages.NOT_FOUND);\n        if (routeNotFound) {\n            this.navigate(routeNotFound.path);\n        }\n    }\n    browserChangeHandler() {\n        const path = this.getCurrentPath();\n        this.navigate(path);\n    }\n    getCurrentPath() {\n        if (window.location.hash) {\n            return window.location.hash.slice(1).replace(BROWSER_ROUTER_BASENAME, '');\n        }\n        return window.location.pathname.slice(1).replace(BROWSER_ROUTER_BASENAME, '');\n    }\n}\nexports.Router = Router;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst KEY_FOR_SAVE = 'spaApp';\nclass State {\n    constructor() {\n        this.fields = this.loadState();\n        window.addEventListener('beforeunload', this.saveState.bind(this));\n    }\n    setValue(name, value) {\n        this.fields.set(name, value);\n    }\n    getValue(name) {\n        const value = this.fields.get(name);\n        if (value)\n            return value;\n        return '';\n    }\n    saveState() {\n        const fields = Object.fromEntries(this.fields.entries());\n        localStorage.setItem(KEY_FOR_SAVE, JSON.stringify(fields));\n    }\n    loadState() {\n        const fields = localStorage.getItem(KEY_FOR_SAVE);\n        if (fields) {\n            const fieldsArr = JSON.parse(fields);\n            return new Map(Object.entries(fieldsArr));\n        }\n        return new Map();\n    }\n}\nexports.default = State;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ElementCreator = void 0;\nclass ElementCreator {\n    constructor(tag, classNames, textContent) {\n        this.element = document.createElement(tag);\n        this.setElement(classNames, textContent);\n    }\n    setElement(classNames, textContent) {\n        this.setCssClasses(classNames);\n        if (textContent)\n            this.setTextContent(textContent);\n    }\n    getElement() {\n        return this.element;\n    }\n    setCssClasses(cssClasses) {\n        // не нравится, можно переделать?\n        if (Array.isArray(cssClasses)) {\n            this.element.classList.add(...cssClasses);\n        }\n        else {\n            this.element.classList.add(cssClasses);\n        }\n    }\n    setTextContent(text) {\n        this.element.textContent = text;\n    }\n    addInnerElement(element) {\n        if (element instanceof ElementCreator) {\n            this.element.append(element.getElement());\n        }\n        else {\n            this.element.append(element);\n        }\n    }\n}\nexports.ElementCreator = ElementCreator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst element_creator_1 = require(\"./element-creator\");\nconst CssClasses = {\n    wrapper: 'primary-wrapper',\n    input: 'primary-input',\n    label: 'primary-label',\n    errorLine: 'primary-error-line',\n};\nclass InputFieldsCreator {\n    constructor(classNames, subClassNames, labelTextContent, inputValue, type = 'text', placeholder = '') {\n        this.element = document.createElement('div');\n        this.inputElement = document.createElement('input');\n        this.labelElement = document.createElement('label');\n        this.errorLineElement = document.createElement('div');\n        this.setElement(classNames, subClassNames, labelTextContent, type);\n        this.setValue(inputValue);\n        this.setPlaceholder(placeholder);\n    }\n    setElement(classNames, subClassNames, labelTextContent, type) {\n        this.setLabelTextContent(labelTextContent);\n        this.setCssClasses(classNames, subClassNames);\n        this.labelElement.prepend(this.inputElement);\n        this.element.append(this.labelElement);\n        this.element.append(this.errorLineElement);\n        this.setType(type);\n    }\n    getElement() {\n        return this.element;\n    }\n    getInputElement() {\n        return this.inputElement;\n    }\n    getErrorLine() {\n        return this.errorLineElement;\n    }\n    setValue(inputValue) {\n        this.inputElement.value = inputValue;\n    }\n    setCssClasses(classNames, subClassNames) {\n        this.element.classList.add(`${classNames}__${subClassNames}-input-wrapper`, CssClasses.wrapper);\n        this.inputElement.classList.add(`${classNames}__${subClassNames}-input`, CssClasses.input);\n        this.labelElement.classList.add(`${classNames}__${subClassNames}-label`, CssClasses.label);\n        this.errorLineElement.classList.add(CssClasses.errorLine);\n    }\n    setLabelTextContent(text) {\n        if (this.labelElement)\n            this.labelElement.textContent = text;\n    }\n    setType(type) {\n        this.inputElement.setAttribute('type', type);\n    }\n    setPlaceholder(placeholder) {\n        this.inputElement.setAttribute('placeholder', placeholder);\n    }\n    addInnerElement(element) {\n        if (element instanceof element_creator_1.ElementCreator) {\n            this.element.append(element.getElement());\n        }\n        else {\n            this.element.append(element);\n        }\n    }\n}\nexports.default = InputFieldsCreator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Validator = void 0;\nclass Validator {\n    static nameField(name) {\n        let error = '';\n        const nameRegex = /^[a-zA-Z]+$/;\n        if (!name) {\n            error = 'Name is empty.';\n        }\n        if (!nameRegex.test(name)) {\n            error = 'Wrong format of Name.';\n        }\n        return error;\n    }\n    static emailField(email) {\n        let error = '';\n        const emailRegex = /^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/g;\n        if (!email) {\n            error = 'Email is empty.';\n        }\n        else if (!emailRegex.test(email)) {\n            error = 'Wrong format of email.';\n        }\n        return error;\n    }\n    static passwordField(password) {\n        let error = '';\n        const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/;\n        if (!password) {\n            error = 'Password is empty.';\n        }\n        else if (!passwordRegex.test(password)) {\n            error =\n                'Password must be at least 8 characters long; must contain at least one uppercase letter (A-Z),  at least one lowercase letter (a-z), at least one digit (0-9), must not contain leading or trailing whitespace ';\n        }\n        return error;\n    }\n    static confirmPasswordField(confirmPassword, password) {\n        let error = '';\n        if (!confirmPassword) {\n            error = 'Password is empty.';\n        }\n        else if (confirmPassword !== password) {\n            error = 'Passwords do not match';\n        }\n        return error;\n    }\n    static birthField(dateOfBirth) {\n        let error = '';\n        const MIN_AGE = 13;\n        if (!dateOfBirth) {\n            error = 'Date of birth is empty.';\n        }\n        else {\n            const birthDate = new Date(dateOfBirth);\n            const currentDate = new Date();\n            let age = currentDate.getFullYear() - birthDate.getFullYear();\n            if (currentDate.getMonth() < birthDate.getMonth() ||\n                (currentDate.getMonth() === birthDate.getMonth() && currentDate.getDate() < birthDate.getDate())) {\n                age -= 1;\n            }\n            if (age < MIN_AGE) {\n                error = `You must be at least ${MIN_AGE} years old.`;\n            }\n        }\n        return error;\n    }\n    static streetField(street) {\n        let error = '';\n        if (!street) {\n            error = 'Street is empty.';\n        }\n        return error;\n    }\n    static cityField(city) {\n        const cityRegex = /^[a-zA-Z\\s]+$/;\n        let error = '';\n        if (!city) {\n            error = 'City is empty.';\n        }\n        else if (!cityRegex.test(city)) {\n            error = 'City must contain only letters and spaces.';\n        }\n        return error;\n    }\n    static postalCodeField(postalCode, selectedCountry) {\n        const usaPostalCodeRegex = /^\\d{5}(-\\d{4})?$/;\n        const russiaPostalCodeRegex = /^[0-9]{6}$/;\n        let error = '';\n        if (!postalCode) {\n            error = 'Postal code is empty.';\n        }\n        else {\n            const countrySpecificRegex = selectedCountry === 'US' ? usaPostalCodeRegex : russiaPostalCodeRegex;\n            if (!countrySpecificRegex.test(postalCode)) {\n                error = selectedCountry === 'US' ? 'Invalid USA postal code format.' : 'Invalid Russian postal code format.';\n            }\n        }\n        return error;\n    }\n}\nexports.Validator = Validator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst element_creator_1 = require(\"../../utils/element-creator\");\nconst view_1 = require(\"../view\");\nclass FooterView extends view_1.View {\n    constructor() {\n        super('footer', 'footer');\n        this.configView();\n    }\n    configView() {\n        const footerRssLink = new element_creator_1.ElementCreator('a', 'footer__link', '');\n        footerRssLink.getElement().setAttribute('href', 'https://rs.school/js/');\n        footerRssLink.getElement().setAttribute('target', '_blank');\n        footerRssLink.getElement().setAttribute('rel', 'noopener noreferrer');\n        this.viewElementCreator.addInnerElement(footerRssLink);\n        const rssImage = new element_creator_1.ElementCreator('img', 'footer__link-image', '');\n        rssImage.getElement().setAttribute('src', '../../../../assets/images/rs_school_js.svg');\n        footerRssLink.addInnerElement(rssImage);\n        const teamText = new element_creator_1.ElementCreator('div', 'footer__text-team', 'Developed by New World Disorder');\n        this.viewElementCreator.addInnerElement(teamText);\n        const yearText = new element_creator_1.ElementCreator('div', 'footer__text-year', '2023');\n        this.viewElementCreator.addInnerElement(yearText);\n    }\n}\nexports.default = FooterView;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst element_creator_1 = require(\"../../utils/element-creator\");\nconst view_1 = require(\"../view\");\nconst link_view_1 = __importDefault(require(\"./link-view\"));\nconst pages_1 = require(\"../../router/pages\");\nconst authAPI_1 = require(\"../../../api/authAPI/authAPI\");\nconst CssClasses = {\n    HEADER: 'header',\n    NAV: ['header__nav', 'nav'],\n    LOGOUT_BUTTON: 'header__logout-button',\n    SHOW_LOGOUT_BUTTON: 'show',\n    HIDE_LINK_ELEMENT: 'hide',\n};\nconst NamePages = {\n    INDEX: 'Main',\n    LOGIN: 'Login',\n    REGISTRATION: 'Registration',\n};\nconst TEXT = {\n    LOGOUT_BUTTON: 'Logout',\n};\nconst KEY_FOR_SAVE = {\n    LOGIN_STATUS: 'false',\n};\nclass HeaderView extends view_1.View {\n    constructor(router, state) {\n        super('header', CssClasses.HEADER);\n        this.headerLinkElements = new Map();\n        this.logoutButton = null;\n        this.configView(router, state);\n    }\n    configView(router, state) {\n        this.addNavigation(router, state);\n        this.addLogoutButton(router, state);\n    }\n    setSelectedItem(namePage) {\n        const linkItem = this.headerLinkElements.get(namePage.toUpperCase());\n        if (linkItem instanceof link_view_1.default) {\n            linkItem.setSelectedStatus();\n        }\n    }\n    customerLogin(state) {\n        var _a;\n        (_a = this.logoutButton) === null || _a === void 0 ? void 0 : _a.classList.add('show');\n        this.hideLoginLink(state);\n    }\n    hideLoginLink(state) {\n        const isLoggedIn = state.getValue(KEY_FOR_SAVE.LOGIN_STATUS);\n        if (isLoggedIn === 'true') {\n            const loginLink = this.headerLinkElements.get('login');\n            loginLink === null || loginLink === void 0 ? void 0 : loginLink.getHTMLElement().classList.add(CssClasses.HIDE_LINK_ELEMENT);\n        }\n    }\n    showLogoutButton(state) {\n        var _a;\n        const isLoggedIn = state.getValue(KEY_FOR_SAVE.LOGIN_STATUS);\n        if (isLoggedIn === 'true') {\n            (_a = this.logoutButton) === null || _a === void 0 ? void 0 : _a.classList.add(CssClasses.SHOW_LOGOUT_BUTTON);\n        }\n    }\n    addNavigation(router, state) {\n        const creatorNav = new element_creator_1.ElementCreator('nav', CssClasses.NAV);\n        Object.keys(NamePages).forEach((key) => {\n            const linkParams = {\n                name: NamePages[key],\n                callback: () => router.navigate(pages_1.Pages[key]),\n            };\n            const linkElement = new link_view_1.default(linkParams.name, linkParams.callback, this.headerLinkElements);\n            creatorNav.addInnerElement(linkElement.getHTMLElement());\n            this.headerLinkElements.set(pages_1.Pages[key].toUpperCase(), linkElement);\n        });\n        this.hideLoginLink(state);\n        this.viewElementCreator.addInnerElement(creatorNav);\n    }\n    addLogoutButton(router, state) {\n        const logoutButtonCreator = new element_creator_1.ElementCreator('button', CssClasses.LOGOUT_BUTTON, TEXT.LOGOUT_BUTTON);\n        const logoutButtonElement = logoutButtonCreator.getElement();\n        this.logoutButton = logoutButtonElement;\n        logoutButtonElement.addEventListener('click', this.logoutButtonClickFn.bind(this, router, state));\n        this.showLogoutButton(state);\n        this.viewElementCreator.addInnerElement(logoutButtonElement);\n    }\n    logoutButtonClickFn(router, state) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            yield authAPI_1.AuthAPI.fetchAnonymousToken();\n            router.navigate(pages_1.Pages.LOGIN);\n            (_a = this.logoutButton) === null || _a === void 0 ? void 0 : _a.classList.remove(CssClasses.SHOW_LOGOUT_BUTTON);\n            const loginLink = this.headerLinkElements.get('login');\n            loginLink === null || loginLink === void 0 ? void 0 : loginLink.getHTMLElement().classList.remove(CssClasses.HIDE_LINK_ELEMENT);\n            state.setValue(KEY_FOR_SAVE.LOGIN_STATUS, 'false');\n        });\n    }\n}\nexports.default = HeaderView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst view_1 = require(\"../view\");\nconst CssClasses = {\n    ITEM: 'nav__item',\n    ITEM_SELECTED: 'nav__item_selected',\n};\nclass LinkView extends view_1.View {\n    constructor(text, pageCallback, linkElements) {\n        super('a', CssClasses.ITEM, text);\n        this.linkElements = linkElements;\n        this.pageCallback = pageCallback;\n        this.configView();\n    }\n    setSelectedStatus() {\n        this.linkElements.forEach((link) => link.setNotSelectedStatus());\n        const element = this.viewElementCreator.getElement();\n        element.classList.add(CssClasses.ITEM_SELECTED);\n    }\n    setNotSelectedStatus() {\n        const element = this.viewElementCreator.getElement();\n        element.classList.remove(CssClasses.ITEM_SELECTED);\n    }\n    configView() {\n        const element = this.viewElementCreator.getElement();\n        element.addEventListener('click', () => {\n            this.setSelectedStatus.bind(this);\n            this.pageCallback();\n        });\n    }\n}\nexports.default = LinkView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst element_creator_1 = require(\"../../../utils/element-creator\");\nconst view_1 = require(\"../../view\");\nconst CssClasses = {\n    INDEX: 'index',\n    TITLE: 'index__title',\n};\nconst TEXT = {\n    TITLE: 'ЭТО ГЛАВНАЯ СТРАНИЦА',\n};\nclass IndexView extends view_1.View {\n    constructor() {\n        super('section', CssClasses.INDEX);\n        this.configView();\n    }\n    configView() {\n        const title = new element_creator_1.ElementCreator('h1', CssClasses.TITLE, TEXT.TITLE);\n        this.viewElementCreator.addInnerElement(title);\n    }\n}\nexports.default = IndexView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KEY_FOR_SAVE = exports.INITIAL_VALUE = exports.TYPE = exports.TEXT = exports.CssClasses = void 0;\nexports.CssClasses = {\n    TITLE: 'login__title',\n    LOGIN: 'login',\n    ERROR_LINE: 'login_error-line',\n    ERROR_LINE_SHOW: 'show',\n    FORM: 'login__form',\n    EMAIL_INPUT: 'email',\n    PASSWORD_INPUT: 'password',\n    INPUT_INVALID: 'invalid',\n    LOGIN_BUTTON: ['login__button', 'primary-button'],\n    SHOW_HIDE_ICON: ['material-symbols-outlined', 'login__show-hide-icon'],\n    REGISTRATION_LINK: ['login__registration-link'],\n};\nexports.TEXT = {\n    TITLE: 'LOGIN',\n    ERROR_LINE: 'Incorrect username or password',\n    FORM: '',\n    EMAIL_INPUT: 'Ел.адрес',\n    PASSWORD_INPUT: 'Пароль',\n    BUTTON: 'Войти',\n    SHOW_HIDE_ICON: {\n        VISIBLE: 'visibility',\n        VISIBLE_OFF: 'visibility_off',\n    },\n    REGISTRATION_LINK: 'Зарегистрироваться',\n};\nexports.TYPE = {\n    INPUT_TYPE: {\n        EMAIL: 'text',\n        PASSWORD: 'password',\n        TEXT: 'text',\n    },\n    BUTTON_TYPE: 'submit',\n};\nexports.INITIAL_VALUE = {\n    INPUT_VALUE: {\n        EMAIL: '',\n        PASSWORD: '',\n    },\n    PLACEHOLDER: {\n        EMAIL: '',\n        PASSWORD: '',\n    },\n    ERROR_LINE: '',\n};\nexports.KEY_FOR_SAVE = {\n    LOGIN_STATUS: 'false',\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CustomerAPI_1 = require(\"../../../../api/CustomerAPI/CustomerAPI\");\nconst authAPI_1 = require(\"../../../../api/authAPI/authAPI\");\nconst pages_1 = require(\"../../../router/pages\");\nconst element_creator_1 = require(\"../../../utils/element-creator\");\nconst input_fields_creator_1 = __importDefault(require(\"../../../utils/input-fields-creator\"));\nconst view_1 = require(\"../../view\");\nconst login_view_types_1 = require(\"./login-view-types\");\nconst validator_1 = require(\"../../../utils/validator\");\nclass LoginView extends view_1.View {\n    constructor(router, header, state) {\n        super('section', login_view_types_1.CssClasses.LOGIN);\n        this.router = router;\n        this.header = header;\n        this.state = state;\n        this.form = null;\n        this.errorLine = null;\n        this.emailInput = null;\n        this.passwordInput = null;\n        this.configView();\n    }\n    configView() {\n        this.addTitle();\n        this.addErrorLine();\n        this.addForm();\n        this.configForm();\n        this.addRegistrationLink();\n    }\n    configForm() {\n        this.addEmailInput();\n        this.addPasswordInput();\n        this.addLoginButton();\n    }\n    addTitle() {\n        const titleCreator = new element_creator_1.ElementCreator('h1', login_view_types_1.CssClasses.TITLE, login_view_types_1.TEXT.TITLE);\n        this.viewElementCreator.addInnerElement(titleCreator);\n    }\n    addErrorLine() {\n        const errorLineCreator = new element_creator_1.ElementCreator('div', login_view_types_1.CssClasses.ERROR_LINE, login_view_types_1.TEXT.ERROR_LINE);\n        const errorLineElement = errorLineCreator.getElement();\n        this.errorLine = errorLineElement;\n        this.viewElementCreator.addInnerElement(errorLineElement);\n    }\n    addForm() {\n        const formCreator = new element_creator_1.ElementCreator('form', login_view_types_1.CssClasses.FORM, login_view_types_1.TEXT.FORM);\n        this.form = formCreator;\n        this.viewElementCreator.addInnerElement(formCreator.getElement());\n    }\n    addEmailInput() {\n        var _a;\n        const emailInputCreator = new input_fields_creator_1.default(login_view_types_1.CssClasses.LOGIN, login_view_types_1.CssClasses.EMAIL_INPUT, login_view_types_1.TEXT.EMAIL_INPUT, login_view_types_1.INITIAL_VALUE.INPUT_VALUE.EMAIL, login_view_types_1.TYPE.INPUT_TYPE.EMAIL, login_view_types_1.INITIAL_VALUE.PLACEHOLDER.EMAIL);\n        const emailInputElement = emailInputCreator.getInputElement();\n        this.emailInput = emailInputCreator;\n        emailInputElement.addEventListener('input', () => {\n            this.inputValidation(emailInputCreator, () => validator_1.Validator.emailField(emailInputElement.value));\n            this.inputKeydownFn();\n        });\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(emailInputCreator.getElement());\n    }\n    addPasswordInput() {\n        var _a;\n        const passwordInputCreator = new input_fields_creator_1.default(login_view_types_1.CssClasses.LOGIN, login_view_types_1.CssClasses.PASSWORD_INPUT, login_view_types_1.TEXT.PASSWORD_INPUT, login_view_types_1.INITIAL_VALUE.INPUT_VALUE.PASSWORD, login_view_types_1.TYPE.INPUT_TYPE.PASSWORD, login_view_types_1.INITIAL_VALUE.PLACEHOLDER.PASSWORD);\n        this.addShowHidePasswordIcon(passwordInputCreator);\n        const passwordInputElement = passwordInputCreator.getInputElement();\n        this.passwordInput = passwordInputCreator;\n        passwordInputElement.addEventListener('input', () => {\n            this.inputValidation(passwordInputCreator, () => validator_1.Validator.passwordField(passwordInputElement.value));\n            this.inputKeydownFn();\n        });\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(passwordInputCreator.getElement());\n    }\n    addShowHidePasswordIcon(passwordInputCreator) {\n        const showHideIconCreator = new element_creator_1.ElementCreator('span', login_view_types_1.CssClasses.SHOW_HIDE_ICON, login_view_types_1.TEXT.SHOW_HIDE_ICON.VISIBLE);\n        showHideIconCreator.getElement().addEventListener('click', this.showHidePasswordFn.bind(this, showHideIconCreator));\n        passwordInputCreator.addInnerElement(showHideIconCreator);\n    }\n    addLoginButton() {\n        var _a;\n        const loginButtonCreator = new element_creator_1.ElementCreator('button', login_view_types_1.CssClasses.LOGIN_BUTTON, login_view_types_1.TEXT.BUTTON);\n        const loginButtonElement = loginButtonCreator.getElement();\n        loginButtonElement.setAttribute('type', login_view_types_1.TYPE.BUTTON_TYPE);\n        loginButtonElement.addEventListener('click', (e) => this.loginButtonClickFn.call(this, e));\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(loginButtonElement);\n    }\n    addRegistrationLink() {\n        const registrationLinkCreator = new element_creator_1.ElementCreator('a', login_view_types_1.CssClasses.REGISTRATION_LINK, login_view_types_1.TEXT.REGISTRATION_LINK);\n        const registrationLinkElement = registrationLinkCreator.getElement();\n        registrationLinkElement.addEventListener('click', (e) => this.registrationLinkClickFn.call(this, e));\n        this.viewElementCreator.addInnerElement(registrationLinkElement);\n    }\n    inputKeydownFn() {\n        var _a;\n        (_a = this.errorLine) === null || _a === void 0 ? void 0 : _a.classList.remove(login_view_types_1.CssClasses.ERROR_LINE_SHOW);\n    }\n    inputValidation(inputCreator, validatorFn) {\n        const inputElement = inputCreator.getInputElement();\n        const errorLineElement = inputCreator.getErrorLine();\n        const error = validatorFn();\n        if (error) {\n            inputElement.classList.add(login_view_types_1.CssClasses.INPUT_INVALID);\n            errorLineElement.textContent = `${error}`;\n            return false;\n        }\n        inputElement.classList.remove(login_view_types_1.CssClasses.INPUT_INVALID);\n        errorLineElement.textContent = login_view_types_1.INITIAL_VALUE.ERROR_LINE;\n        return true;\n    }\n    loginButtonClickFn(event) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.emailInput || !this.passwordInput) {\n                throw new Error();\n            }\n            event.preventDefault();\n            const isFormsValid = this.isFormsValid.call(this, this.emailInput, this.passwordInput);\n            if (!isFormsValid)\n                return;\n            const email = this.emailInput.getInputElement().value;\n            const password = this.passwordInput.getInputElement().value;\n            const loginStatusCode = yield CustomerAPI_1.CustomerAPI.loginCustomer(email, password);\n            if (loginStatusCode === authAPI_1.AuthStatusCodes.successfulPasswordTokenFetch) {\n                console.log(this.router);\n                this.router.navigate(pages_1.Pages.INDEX);\n                this.state.setValue(login_view_types_1.KEY_FOR_SAVE.LOGIN_STATUS, 'true');\n                (_a = this.header) === null || _a === void 0 ? void 0 : _a.customerLogin(this.state);\n                yield CustomerAPI_1.CustomerAPI.getCustomerInfo();\n            }\n            else {\n                (_b = this.errorLine) === null || _b === void 0 ? void 0 : _b.classList.add(login_view_types_1.CssClasses.ERROR_LINE_SHOW);\n            }\n        });\n    }\n    isFormsValid(emailInputCreator, passwordInputCreator) {\n        const isEmailValid = this.inputValidation.call(this, emailInputCreator, () => validator_1.Validator.emailField(emailInputCreator.getInputElement().value));\n        const isPasswordValid = this.inputValidation.call(this, passwordInputCreator, () => validator_1.Validator.passwordField(passwordInputCreator.getInputElement().value));\n        if (isEmailValid && isPasswordValid) {\n            return true;\n        }\n        return false;\n    }\n    showHidePasswordFn(showHideIconCreator) {\n        var _a, _b;\n        const showHideIconElement = showHideIconCreator.getElement();\n        if (((_a = this.passwordInput) === null || _a === void 0 ? void 0 : _a.getInputElement().getAttribute('type')) === login_view_types_1.TYPE.INPUT_TYPE.PASSWORD) {\n            this.passwordInput.getInputElement().setAttribute('type', login_view_types_1.TYPE.INPUT_TYPE.TEXT);\n            showHideIconElement.textContent = login_view_types_1.TEXT.SHOW_HIDE_ICON.VISIBLE_OFF;\n        }\n        else {\n            (_b = this.passwordInput) === null || _b === void 0 ? void 0 : _b.getInputElement().setAttribute('type', login_view_types_1.TYPE.INPUT_TYPE.PASSWORD);\n            showHideIconElement.textContent = login_view_types_1.TEXT.SHOW_HIDE_ICON.VISIBLE;\n        }\n    }\n    registrationLinkClickFn(event) {\n        event.preventDefault();\n        this.router.navigate(pages_1.Pages.REGISTRATION);\n    }\n}\nexports.default = LoginView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst view_1 = require(\"../view\");\nconst CssClasses = 'main';\nclass MainView extends view_1.View {\n    constructor() {\n        super('main', CssClasses);\n    }\n}\nexports.default = MainView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst view_1 = require(\"../../view\");\nconst element_creator_1 = require(\"../../../utils/element-creator\");\nconst pages_1 = require(\"../../../router/pages\");\nclass NotFoundView extends view_1.View {\n    constructor(router) {\n        super('section', 'not-found');\n        this.router = router;\n        this.configView();\n    }\n    configView() {\n        this.addImageBlock();\n        this.addTextBlock();\n    }\n    addImageBlock() {\n        const imageBlock = new element_creator_1.ElementCreator('div', 'not-found__image-block', '');\n        this.viewElementCreator.addInnerElement(imageBlock);\n        const image = new element_creator_1.ElementCreator('img', 'not-found__image-block-img', '');\n        image.getElement().setAttribute('src', '../../../../assets/images/error-404.png');\n        imageBlock.addInnerElement(image);\n    }\n    addTextBlock() {\n        const textBlock = new element_creator_1.ElementCreator('div', 'not-found__text', '');\n        this.viewElementCreator.addInnerElement(textBlock);\n        const header = new element_creator_1.ElementCreator('h1', 'not-found__text__head', 'Error 404');\n        textBlock.addInnerElement(header);\n        const textL = new element_creator_1.ElementCreator('div', 'not-found__text-l', 'Page Not Found');\n        textBlock.addInnerElement(textL);\n        const textM = new element_creator_1.ElementCreator('div', 'not-found__text-m', 'We broke something!');\n        textBlock.addInnerElement(textM);\n        const textS = new element_creator_1.ElementCreator('div', 'not-found__text-s', 'Or you did...');\n        textBlock.addInnerElement(textS);\n        const registrationLinkCreator = new element_creator_1.ElementCreator('a', 'not-found__text-link', 'Back to main');\n        const registrationLinkElement = registrationLinkCreator.getElement();\n        registrationLinkElement.addEventListener('click', (e) => this.registrationLinkClickFn.call(this, e));\n        textBlock.addInnerElement(registrationLinkElement);\n    }\n    registrationLinkClickFn(event) {\n        event.preventDefault();\n        this.router.navigate(pages_1.Pages.INDEX);\n    }\n}\nexports.default = NotFoundView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.INITIAL_VALUE = exports.TYPE = exports.SIGN_UP_TEXT = exports.SIGN_UP_CLASSES = void 0;\nexports.SIGN_UP_CLASSES = {\n    REGISTRATION: 'registration',\n    TITLE: 'registration__title',\n    EMAIL: 'email',\n    PASSWORD: 'password',\n    CONFIRM_PASSWORD: 'confirm-password',\n    FIRST_NAME: 'first-name',\n    LAST_NAME: 'last-name',\n    DATE_OF_BIRTH: 'date-of-birth',\n    CITY: 'city',\n    STREET: 'street',\n    POSTAL_CODE: 'postal-code',\n    COUNTRY: 'country',\n    ERROR_LINE: 'error',\n    REGISTER_BTN: 'primary-button',\n    LOGIN_BTN: 'primary-button',\n    SHOW_HIDE_ICON: ['material-symbols-outlined', 'registration__show-hide-icon'],\n    SET_DEFAULT_ADDRESS: 'set-default',\n    INPUT_INVALID: 'invalid',\n    ERROR_LINE_SHOW: 'show',\n};\nexports.SIGN_UP_TEXT = {\n    EMAIL: 'Email',\n    PASSWORD: 'Password',\n    CONFIRM_PASSWORD: 'Confirm Password',\n    FIRST_NAME: 'First Name',\n    LAST_NAME: 'Last Name',\n    DATE_OF_BIRTH: 'Date of Birth',\n    CITY: 'City',\n    STREET: 'Street',\n    POSTAL_CODE: 'Postal Code',\n    COUNTRY: 'Country',\n    TITLE: 'Sign Up',\n    REGISTER_BTN: 'Create Account',\n    LOGIN_BTN: 'Login',\n    ERROR_LINE: '',\n    SET_DEFAULT_ADDRESS: 'Set Default Address',\n    SHOW_HIDE_ICON: {\n        VISIBLE: 'visibility',\n        VISIBLE_OFF: 'visibility_off',\n    },\n};\nexports.TYPE = {\n    INPUT_TYPE: {\n        EMAIL: 'email',\n        PASSWORD: 'password',\n        TEXT: 'text',\n    },\n    BUTTON_TYPE: 'submit',\n};\nexports.INITIAL_VALUE = {\n    INPUT_VALUE: {\n        EMAIL: '',\n        PASSWORD: '',\n    },\n    PLACEHOLDER: {\n        EMAIL: '',\n        PASSWORD: '',\n    },\n    ERROR_LINE: '',\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst CustomerAPI_1 = require(\"../../../../api/CustomerAPI/CustomerAPI\");\nconst authAPI_1 = require(\"../../../../api/authAPI/authAPI\");\nconst pages_1 = require(\"../../../router/pages\");\nconst element_creator_1 = require(\"../../../utils/element-creator\");\nconst input_fields_creator_1 = __importDefault(require(\"../../../utils/input-fields-creator\"));\nconst validator_1 = require(\"../../../utils/validator\");\nconst view_1 = require(\"../../view\");\nconst registration_view_types_1 = require(\"./registration-view-types\");\nclass RegistrationView extends view_1.View {\n    constructor(router) {\n        super('section', registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION);\n        this.router = router;\n        this.form = null;\n        this.btnsWrapper = null;\n        this.firstNameInput = null;\n        this.lastNameInput = null;\n        this.dateOfBirthInput = null;\n        this.emailInput = null;\n        this.passwordInput = null;\n        this.confirmPasswordInput = null;\n        this.shippingAddressFieldSet = null;\n        this.billingAddressFieldSet = null;\n        this.cityShippingAddressInput = null;\n        this.streetShippingAddressInput = null;\n        this.postalCodeShippingAddressInput = null;\n        this.countryShippingAddressInput = null;\n        this.defaultShippingAddressInput = null;\n        this.cityBillingAddressInput = null;\n        this.streetBillingAddressInput = null;\n        this.postalCodeBillingAddressInput = null;\n        this.countryBillingAddressInput = null;\n        this.defaultBillingAddressInput = null;\n        this.errorLine = null;\n        this.configView();\n    }\n    configView() {\n        this.addTitle();\n        this.addForm();\n        this.configForm();\n    }\n    addTitle() {\n        const title = new element_creator_1.ElementCreator('h1', registration_view_types_1.SIGN_UP_CLASSES.TITLE, registration_view_types_1.SIGN_UP_TEXT.TITLE);\n        this.viewElementCreator.addInnerElement(title);\n    }\n    addForm() {\n        var _a;\n        this.form = new element_creator_1.ElementCreator('form', 'registration__form');\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.getElement().addEventListener('submit', (event) => this.handleSubmit(event));\n        this.viewElementCreator.addInnerElement(this.form.getElement());\n    }\n    configForm() {\n        this.addFirstNameInput();\n        this.addLastNameInput();\n        this.addDateOfBirthInput();\n        this.addEmailInput();\n        this.addPasswordInput();\n        this.addConfirmPasswordInput();\n        this.addShippingFieldSet();\n        this.addAddressInput(this.shippingAddressFieldSet, 'shipping');\n        this.addCopyButton();\n        this.addBillingFieldSet();\n        this.addAddressInput(this.billingAddressFieldSet, 'billing');\n        this.addErrorLine();\n        this.addControlButtons();\n    }\n    addFirstNameInput() {\n        var _a;\n        const firstNameInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.FIRST_NAME, registration_view_types_1.SIGN_UP_TEXT.FIRST_NAME, '', 'text', '');\n        const firstNameInputElement = firstNameInputCreator.getInputElement();\n        this.firstNameInput = firstNameInputElement;\n        firstNameInputElement.addEventListener('input', () => {\n            this.inputValidation(firstNameInputCreator, () => validator_1.Validator.nameField(firstNameInputElement.value));\n            this.inputKeydownFn();\n        });\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(firstNameInputCreator.getElement());\n    }\n    addLastNameInput() {\n        var _a;\n        const lastNameInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.LAST_NAME, registration_view_types_1.SIGN_UP_TEXT.LAST_NAME, '', 'text', '');\n        const lastNameInputElement = lastNameInputCreator.getInputElement();\n        this.lastNameInput = lastNameInputElement;\n        lastNameInputElement.addEventListener('input', () => {\n            this.inputValidation(lastNameInputCreator, () => validator_1.Validator.nameField(lastNameInputElement.value));\n            this.inputKeydownFn();\n        });\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(lastNameInputCreator.getElement());\n    }\n    addDateOfBirthInput() {\n        var _a;\n        const dateOfBirthInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.DATE_OF_BIRTH, registration_view_types_1.SIGN_UP_TEXT.DATE_OF_BIRTH, '', 'date', '');\n        const dateOfBirthInputElement = dateOfBirthInputCreator.getInputElement();\n        this.dateOfBirthInput = dateOfBirthInputElement;\n        dateOfBirthInputElement.addEventListener('input', () => {\n            this.inputValidation(dateOfBirthInputCreator, () => validator_1.Validator.birthField(dateOfBirthInputElement.value));\n            this.inputKeydownFn();\n        });\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(dateOfBirthInputCreator.getElement());\n    }\n    addEmailInput() {\n        var _a;\n        const emailInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.EMAIL, registration_view_types_1.SIGN_UP_TEXT.EMAIL, '', 'email', '');\n        const emailInputElement = emailInputCreator.getInputElement();\n        this.emailInput = emailInputElement;\n        emailInputElement.addEventListener('input', () => {\n            this.inputValidation(emailInputCreator, () => validator_1.Validator.emailField(emailInputElement.value));\n            this.inputKeydownFn();\n        });\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(emailInputCreator.getElement());\n    }\n    addPasswordInput() {\n        var _a;\n        const passwordInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.PASSWORD, registration_view_types_1.SIGN_UP_TEXT.PASSWORD, '', 'password', '');\n        const passwordInputElement = passwordInputCreator.getInputElement();\n        this.passwordInput = passwordInputElement;\n        this.addShowHidePasswordIcon(this.passwordInput, passwordInputCreator);\n        passwordInputElement.addEventListener('input', () => {\n            this.inputValidation(passwordInputCreator, () => validator_1.Validator.passwordField(passwordInputElement.value));\n            this.inputKeydownFn();\n        });\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(passwordInputCreator.getElement());\n    }\n    addConfirmPasswordInput() {\n        var _a, _b;\n        const confirmPasswordInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.CONFIRM_PASSWORD, registration_view_types_1.SIGN_UP_TEXT.CONFIRM_PASSWORD, '', 'password', '');\n        const confirmPasswordInputElement = confirmPasswordInputCreator.getInputElement();\n        const passwordValue = (_a = this.passwordInput) === null || _a === void 0 ? void 0 : _a.value;\n        this.confirmPasswordInput = confirmPasswordInputElement;\n        this.addShowHidePasswordIcon(this.confirmPasswordInput, confirmPasswordInputCreator);\n        confirmPasswordInputElement.addEventListener('input', () => {\n            if (passwordValue !== undefined) {\n                this.inputValidation(confirmPasswordInputCreator, () => validator_1.Validator.confirmPasswordField(confirmPasswordInputElement.value, passwordValue));\n                this.inputKeydownFn();\n            }\n        });\n        (_b = this.form) === null || _b === void 0 ? void 0 : _b.addInnerElement(confirmPasswordInputCreator.getElement());\n    }\n    addShowHidePasswordIcon(passwordInput, passwordInputCreator) {\n        const showHideIconCreator = new element_creator_1.ElementCreator('span', registration_view_types_1.SIGN_UP_CLASSES.SHOW_HIDE_ICON, registration_view_types_1.SIGN_UP_TEXT.SHOW_HIDE_ICON.VISIBLE);\n        showHideIconCreator\n            .getElement()\n            .addEventListener('click', this.showHidePasswordFn.bind(this, passwordInput, showHideIconCreator));\n        passwordInputCreator.addInnerElement(showHideIconCreator);\n    }\n    addAddressInput(wrapper, type) {\n        if (wrapper) {\n            this.addCityAddressInput(wrapper, type);\n            this.addStreetAddressInput(wrapper, type);\n            this.addPostalCodeAddressInput(wrapper, type);\n            this.addCountryAddressInput(wrapper, type);\n            this.addDefaultCheckbox(wrapper, type);\n        }\n    }\n    addShippingFieldSet() {\n        var _a;\n        const fieldSet = new element_creator_1.ElementCreator('fieldset', 'fieldset');\n        this.shippingAddressFieldSet = fieldSet;\n        const legendFieldSet = new element_creator_1.ElementCreator('legend', 'legend');\n        legendFieldSet.getElement().textContent = 'Shipping Address';\n        fieldSet.addInnerElement(legendFieldSet);\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(fieldSet);\n    }\n    addBillingFieldSet() {\n        var _a;\n        const fieldSet = new element_creator_1.ElementCreator('fieldset', 'fieldset');\n        this.billingAddressFieldSet = fieldSet;\n        const legendFieldSet = new element_creator_1.ElementCreator('legend', 'legend');\n        legendFieldSet.getElement().textContent = 'Billing Address';\n        fieldSet.addInnerElement(legendFieldSet);\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(fieldSet);\n    }\n    addCityAddressInput(wrapper, type) {\n        const cityAddressInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.CITY, registration_view_types_1.SIGN_UP_TEXT.CITY, '', 'text', '');\n        const cityAddressInputElement = cityAddressInputCreator.getInputElement();\n        if (type === 'shipping') {\n            this.cityShippingAddressInput = cityAddressInputElement;\n        }\n        else if (type === 'billing') {\n            this.cityBillingAddressInput = cityAddressInputElement;\n        }\n        cityAddressInputElement.addEventListener('input', () => {\n            this.inputValidation(cityAddressInputCreator, () => validator_1.Validator.cityField(cityAddressInputElement.value));\n            this.inputKeydownFn();\n        });\n        wrapper === null || wrapper === void 0 ? void 0 : wrapper.addInnerElement(cityAddressInputCreator.getElement());\n    }\n    addStreetAddressInput(wrapper, type) {\n        const streetAddressInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.STREET, registration_view_types_1.SIGN_UP_TEXT.STREET, '', 'text', '');\n        const streetAddressInputElement = streetAddressInputCreator.getInputElement();\n        if (type === 'shipping') {\n            this.streetShippingAddressInput = streetAddressInputElement;\n        }\n        else if (type === 'billing') {\n            this.streetBillingAddressInput = streetAddressInputElement;\n        }\n        streetAddressInputElement.addEventListener('input', () => {\n            this.inputValidation(streetAddressInputCreator, () => validator_1.Validator.cityField(streetAddressInputElement.value));\n            this.inputKeydownFn();\n        });\n        wrapper === null || wrapper === void 0 ? void 0 : wrapper.addInnerElement(streetAddressInputCreator.getElement());\n    }\n    addPostalCodeAddressInput(wrapper, type) {\n        const postalCodeAddressInputCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.POSTAL_CODE, registration_view_types_1.SIGN_UP_TEXT.POSTAL_CODE, '', 'text', '');\n        const postalCodeAddressInputElement = postalCodeAddressInputCreator.getInputElement();\n        if (type === 'shipping') {\n            this.postalCodeShippingAddressInput = postalCodeAddressInputElement;\n        }\n        else if (type === 'billing') {\n            this.postalCodeBillingAddressInput = postalCodeAddressInputElement;\n        }\n        postalCodeAddressInputElement.addEventListener('input', () => {\n            let country = '';\n            this.inputValidation(postalCodeAddressInputCreator, () => {\n                var _a, _b, _c, _d;\n                if (type === 'shipping') {\n                    country = (_b = (_a = this.countryShippingAddressInput) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : '';\n                }\n                else if (type === 'billing') {\n                    country = (_d = (_c = this.countryBillingAddressInput) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : '';\n                }\n                return validator_1.Validator.postalCodeField(postalCodeAddressInputElement.value, country);\n            });\n            this.inputKeydownFn();\n        });\n        wrapper === null || wrapper === void 0 ? void 0 : wrapper.addInnerElement(postalCodeAddressInputCreator.getElement());\n    }\n    addCountryAddressInput(wrapper, type) {\n        // TODO refactor to separate createSelect method\n        const countryOptions = ['USA', 'Russia'];\n        const countryValues = ['US', 'RU'];\n        const wrapperClasses = ['registration__country-input-wrapper', 'primary-wrapper'];\n        const labelClasses = ['registration__country-label', 'primary-label'];\n        const selectClasses = ['registration__country-input', 'primary-input'];\n        const countryAddressInputWrapper = new element_creator_1.ElementCreator('div', wrapperClasses);\n        const countryAddressInputLabel = new element_creator_1.ElementCreator('label', labelClasses);\n        countryAddressInputLabel.getElement().textContent = 'Country';\n        const countryAddressInputCreator = new element_creator_1.ElementCreator('select', selectClasses);\n        for (let i = 0; i < countryOptions.length; i += 1) {\n            const option = document.createElement('option');\n            option.setAttribute('value', countryValues[i]);\n            option.textContent = countryOptions[i];\n            countryAddressInputCreator.getElement().appendChild(option);\n        }\n        countryAddressInputWrapper.addInnerElement(countryAddressInputLabel.getElement());\n        countryAddressInputLabel.addInnerElement(countryAddressInputCreator.getElement());\n        const countryAddressInputElement = countryAddressInputCreator.getElement();\n        if (type === 'shipping') {\n            this.countryShippingAddressInput = countryAddressInputElement;\n        }\n        else if (type === 'billing') {\n            this.countryBillingAddressInput = countryAddressInputElement;\n        }\n        wrapper === null || wrapper === void 0 ? void 0 : wrapper.addInnerElement(countryAddressInputWrapper.getElement());\n    }\n    addDefaultCheckbox(wrapper, type) {\n        var _a;\n        const defaultAddressCheckboxCreator = new input_fields_creator_1.default(registration_view_types_1.SIGN_UP_CLASSES.REGISTRATION, registration_view_types_1.SIGN_UP_CLASSES.SET_DEFAULT_ADDRESS, registration_view_types_1.SIGN_UP_TEXT.SET_DEFAULT_ADDRESS, '', 'checkbox', '');\n        const defaultShippingAddressInputElement = defaultAddressCheckboxCreator.getInputElement();\n        if (type === 'shipping') {\n            this.defaultShippingAddressInput = defaultShippingAddressInputElement;\n        }\n        else if (type === 'billing') {\n            this.defaultBillingAddressInput = defaultShippingAddressInputElement;\n        }\n        wrapper === null || wrapper === void 0 ? void 0 : wrapper.addInnerElement(defaultAddressCheckboxCreator.getElement());\n        const checkbox = (_a = defaultAddressCheckboxCreator.getElement().firstChild) === null || _a === void 0 ? void 0 : _a.firstChild;\n        console.log(checkbox);\n        checkbox.classList.remove('primary-input');\n    }\n    addErrorLine() {\n        var _a;\n        const errorLineCreator = new element_creator_1.ElementCreator('div', registration_view_types_1.SIGN_UP_CLASSES.ERROR_LINE, registration_view_types_1.SIGN_UP_TEXT.ERROR_LINE);\n        const errorLineElement = errorLineCreator.getElement();\n        this.errorLine = errorLineElement;\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(errorLineElement);\n    }\n    addControlButtons() {\n        var _a, _b, _c;\n        this.btnsWrapper = new element_creator_1.ElementCreator('div', 'form-buttons');\n        (_a = this.btnsWrapper) === null || _a === void 0 ? void 0 : _a.addInnerElement(this.addRegisterButton());\n        (_b = this.btnsWrapper) === null || _b === void 0 ? void 0 : _b.addInnerElement(this.addLoginButton());\n        (_c = this.form) === null || _c === void 0 ? void 0 : _c.addInnerElement(this.btnsWrapper.getElement());\n    }\n    addRegisterButton() {\n        const registerBtn = new element_creator_1.ElementCreator('button', registration_view_types_1.SIGN_UP_CLASSES.REGISTER_BTN, registration_view_types_1.SIGN_UP_TEXT.REGISTER_BTN);\n        registerBtn.getElement().setAttribute('type', 'submit');\n        return registerBtn;\n    }\n    addLoginButton() {\n        const loginBtn = new element_creator_1.ElementCreator('button', registration_view_types_1.SIGN_UP_CLASSES.LOGIN_BTN, registration_view_types_1.SIGN_UP_TEXT.LOGIN_BTN);\n        loginBtn.getElement().setAttribute('type', 'button');\n        loginBtn.getElement().addEventListener('click', () => this.router.navigate(pages_1.Pages.LOGIN));\n        return loginBtn;\n    }\n    addCopyButton() {\n        var _a;\n        const copyBtn = new element_creator_1.ElementCreator('button', 'copy', 'Set as Billing Address');\n        copyBtn.getElement().setAttribute('type', 'button');\n        copyBtn.getElement().addEventListener('click', this.copyShippingAddressToBillingAddress.bind(this));\n        (_a = this.form) === null || _a === void 0 ? void 0 : _a.addInnerElement(copyBtn);\n    }\n    // TODO refactor, this is horrible\n    handleSubmit(event) {\n        return __awaiter(this, void 0, void 0, function* () {\n            event.preventDefault();\n            const formData = this.getFormData();\n            const allErrors = document.querySelectorAll('.primary-error-line');\n            let allEmpty = true;\n            allErrors.forEach((errorElement) => {\n                var _a;\n                if (((_a = errorElement.textContent) === null || _a === void 0 ? void 0 : _a.trim()) !== '') {\n                    allEmpty = false;\n                    return '';\n                }\n                return '';\n            });\n            if (this.errorLine) {\n                if (allEmpty) {\n                    yield CustomerAPI_1.CustomerAPI.registerCustomer(formData);\n                    yield authAPI_1.AuthAPI.fetchPasswordToken(formData.email, formData.password);\n                    yield CustomerAPI_1.CustomerAPI.getCustomerInfo();\n                    yield CustomerAPI_1.CustomerAPI.loginCustomer(formData.email, formData.password);\n                    this.router.navigate(pages_1.Pages.INDEX);\n                }\n                else {\n                    this.errorLine.textContent = 'Fix all errors';\n                }\n            }\n        });\n    }\n    copyShippingAddressToBillingAddress() {\n        var _a, _b, _c, _d;\n        const cityValue = (_a = this.cityShippingAddressInput) === null || _a === void 0 ? void 0 : _a.value;\n        const streetValue = (_b = this.streetShippingAddressInput) === null || _b === void 0 ? void 0 : _b.value;\n        const postalCodeValue = (_c = this.postalCodeShippingAddressInput) === null || _c === void 0 ? void 0 : _c.value;\n        const countryValue = (_d = this.countryShippingAddressInput) === null || _d === void 0 ? void 0 : _d.value;\n        if (cityValue !== undefined && this.cityBillingAddressInput !== null) {\n            this.cityBillingAddressInput.value = cityValue;\n            this.cityBillingAddressInput.focus();\n            this.cityBillingAddressInput.blur();\n        }\n        if (streetValue !== undefined && this.streetBillingAddressInput !== null) {\n            this.streetBillingAddressInput.value = streetValue;\n            this.streetBillingAddressInput.focus();\n            this.streetBillingAddressInput.blur();\n        }\n        if (postalCodeValue !== undefined && this.postalCodeBillingAddressInput !== null) {\n            this.postalCodeBillingAddressInput.value = postalCodeValue;\n            this.postalCodeBillingAddressInput.focus();\n            this.postalCodeBillingAddressInput.blur();\n        }\n        if (countryValue !== undefined && this.countryBillingAddressInput !== null) {\n            this.countryBillingAddressInput.value = countryValue;\n        }\n    }\n    showHidePasswordFn(passwordInput, showHideIconCreator) {\n        const showHideIconElement = showHideIconCreator.getElement();\n        if (passwordInput.getAttribute('type') === registration_view_types_1.TYPE.INPUT_TYPE.PASSWORD) {\n            passwordInput.setAttribute('type', registration_view_types_1.TYPE.INPUT_TYPE.TEXT);\n            showHideIconElement.textContent = registration_view_types_1.SIGN_UP_TEXT.SHOW_HIDE_ICON.VISIBLE_OFF;\n        }\n        else {\n            passwordInput.setAttribute('type', registration_view_types_1.TYPE.INPUT_TYPE.PASSWORD);\n            showHideIconElement.textContent = registration_view_types_1.SIGN_UP_TEXT.SHOW_HIDE_ICON.VISIBLE;\n        }\n    }\n    getAddressFormData(inputType) {\n        var _a, _b, _c, _d;\n        let cityInput;\n        let streetInput;\n        let postalCodeInput;\n        let countryInput;\n        if (inputType === 'Shipping') {\n            cityInput = this.cityShippingAddressInput;\n            streetInput = this.streetShippingAddressInput;\n            postalCodeInput = this.postalCodeShippingAddressInput;\n            countryInput = this.countryShippingAddressInput;\n        }\n        else if (inputType === 'Billing') {\n            cityInput = this.cityBillingAddressInput;\n            streetInput = this.streetBillingAddressInput;\n            postalCodeInput = this.postalCodeBillingAddressInput;\n            countryInput = this.countryBillingAddressInput;\n        }\n        return {\n            country: (_a = countryInput === null || countryInput === void 0 ? void 0 : countryInput.value) !== null && _a !== void 0 ? _a : '',\n            streetName: (_b = streetInput === null || streetInput === void 0 ? void 0 : streetInput.value) !== null && _b !== void 0 ? _b : '',\n            postalCode: (_c = postalCodeInput === null || postalCodeInput === void 0 ? void 0 : postalCodeInput.value) !== null && _c !== void 0 ? _c : '',\n            city: (_d = cityInput === null || cityInput === void 0 ? void 0 : cityInput.value) !== null && _d !== void 0 ? _d : '',\n        };\n    }\n    getShippingAddressFormData() {\n        return this.getAddressFormData('Shipping');\n    }\n    getBillingAddressFormData() {\n        return this.getAddressFormData('Billing');\n    }\n    getFormData() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n        const formEmail = (_b = (_a = this.emailInput) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : '';\n        const formPassword = (_d = (_c = this.passwordInput) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : '';\n        const formFirstName = (_f = (_e = this.firstNameInput) === null || _e === void 0 ? void 0 : _e.value) !== null && _f !== void 0 ? _f : '';\n        const formLastName = (_h = (_g = this.lastNameInput) === null || _g === void 0 ? void 0 : _g.value) !== null && _h !== void 0 ? _h : '';\n        const formDateOfBirth = (_k = (_j = this.dateOfBirthInput) === null || _j === void 0 ? void 0 : _j.value) !== null && _k !== void 0 ? _k : '';\n        const shippingAddress = this.getShippingAddressFormData();\n        const billingAddress = this.getBillingAddressFormData();\n        const formData = {\n            email: formEmail,\n            password: formPassword,\n            firstName: formFirstName,\n            lastName: formLastName,\n            dateOfBirth: formDateOfBirth,\n            addresses: [shippingAddress, billingAddress],\n        };\n        if ((_l = this.defaultShippingAddressInput) === null || _l === void 0 ? void 0 : _l.checked) {\n            formData.defaultShippingAddress = 0;\n        }\n        if ((_m = this.defaultBillingAddressInput) === null || _m === void 0 ? void 0 : _m.checked) {\n            formData.defaultBillingAddress = 1;\n        }\n        return formData;\n    }\n    inputValidation(inputCreator, validatorFn) {\n        const inputElement = inputCreator.getInputElement();\n        const errorLineElement = inputCreator.getErrorLine();\n        const error = validatorFn();\n        if (error) {\n            inputElement.classList.add(registration_view_types_1.SIGN_UP_CLASSES.INPUT_INVALID);\n            errorLineElement.textContent = `${error}`;\n            return false;\n        }\n        inputElement.classList.remove(registration_view_types_1.SIGN_UP_CLASSES.INPUT_INVALID);\n        errorLineElement.textContent = registration_view_types_1.INITIAL_VALUE.ERROR_LINE;\n        return true;\n    }\n    inputKeydownFn() {\n        var _a;\n        (_a = this.errorLine) === null || _a === void 0 ? void 0 : _a.classList.remove(registration_view_types_1.SIGN_UP_CLASSES.ERROR_LINE_SHOW);\n    }\n}\nexports.default = RegistrationView;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.View = void 0;\nconst element_creator_1 = require(\"../utils/element-creator\");\nclass View {\n    constructor(tag, classNames, textContent) {\n        this.viewElementCreator = this.createView(tag, classNames, textContent);\n    }\n    createView(tag, classNames, textContent) {\n        const elementCreator = new element_creator_1.ElementCreator(tag, classNames, textContent);\n        return elementCreator;\n    }\n    getHTMLElement() {\n        return this.viewElementCreator.getElement();\n    }\n    setContent(view) {\n        const currentElement = this.viewElementCreator.getElement();\n        const element = view.getHTMLElement();\n        this.removeContent(currentElement);\n        this.viewElementCreator.addInnerElement(element);\n    }\n    // TODO добавить addContent\n    removeContent(element) {\n        while (element.firstChild) {\n            element.firstChild.remove();\n        }\n    }\n}\nexports.View = View;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst view_1 = require(\"./view\");\nconst CssClasses = ['wrapper'];\nclass WrapperView extends view_1.View {\n    constructor() {\n        super('div', CssClasses);\n    }\n}\nexports.default = WrapperView;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nrequire(\"./assets/sass/main.scss\");\nconst app_1 = __importDefault(require(\"./app/app\"));\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nconst app = new app_1.default();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./index.ts\");\n",""],"names":[],"sourceRoot":""}