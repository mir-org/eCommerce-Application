!function(){"use strict";var e={183:function(e,t,n){n.r(t)},477:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(903),a=s(n(754)),l=s(n(271)),r=s(n(707)),o=s(n(83)),d=n(413),u=s(n(578)),c=s(n(291)),h=s(n(156)),m=s(n(22));t.default=class{constructor(){this.header=null,this.main=null;const e=new m.default,t=this.createRoutes(e);this.router=new i.Router(t),this.createView()}createView(){const e=new o.default;this.header=new l.default(this.router),this.main=new r.default;const t=new a.default;e.getHTMLElement().append(this.header.getHTMLElement(),this.main.getHTMLElement(),t.getHTMLElement()),document.body.append(e.getHTMLElement())}createRoutes(e){return[{path:"",callback:()=>{var e;null===(e=this.main)||void 0===e||e.setContent(new u.default)}},{path:"undefined",callback:()=>{var e;null===(e=this.main)||void 0===e||e.setContent(new u.default)}},{path:`${d.Pages.INDEX}`,callback:()=>{var e;null===(e=this.main)||void 0===e||e.setContent(new u.default)}},{path:`${d.Pages.LOGIN}`,callback:()=>{var t;null===(t=this.main)||void 0===t||t.setContent(new c.default(e))}},{path:`${d.Pages.REGISTRATION}`,callback:()=>{var t;null===(t=this.main)||void 0===t||t.setContent(new h.default(e))}}]}setContent(e,t){var n,s;null===(n=this.header)||void 0===n||n.setSelectedItem(e),null===(s=this.main)||void 0===s||s.setContent(t)}}},413:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Pages=void 0;t.Pages={INDEX:"main",LOGIN:"login",REGISTRATION:"registration",NOT_FOUND:"not-found"}},903:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const s=n(413);t.Router=class{constructor(e){this.routes=e,document.addEventListener("DOMContentLoaded",(()=>{const e=this.getCurrentPath();this.navigate(e)})),window.addEventListener("popstate",this.browserChangeHandler.bind(this)),window.addEventListener("hashchange",this.browserChangeHandler.bind(this))}navigate(e){const t=this.parseUrl(e),n=""===t.resource?t.path:`${t.path}/${t.resource}`,s=this.routes.find((e=>e.path===n));s?(s.callback(),window.history.pushState(null,"",n)):this.redirectToNotFound()}parseUrl(e){const t=e.split("/"),n={path:"",resource:""};return[n.path="",n.resource=""]=t,n}redirectToNotFound(){const e=this.routes.find((e=>e.path===s.Pages.NOT_FOUND));e&&this.navigate(e.path)}browserChangeHandler(){const e=this.getCurrentPath();this.navigate(e)}getCurrentPath(){return window.location.hash?(alert(`${String(window.location.hash.slice(1))}`),String(window.location.hash.slice(1))):(alert(`${String(window.location.pathname.slice(1))}`),String(window.location.pathname.slice(1)))}}},22:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n="spaApp";t.default=class{constructor(){this.fields=this.loadState(),window.addEventListener("beforeunload",this.saveState.bind(this))}setValue(e,t){this.fields.set(e,t)}getValue(e){const t=this.fields.get(e);return t||""}saveState(){const e=Object.fromEntries(this.fields.entries());localStorage.setItem(n,JSON.stringify(e))}loadState(){const e=localStorage.getItem(n);if(e){const t=JSON.parse(e);return new Map(Object.entries(t))}return new Map}}},111:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ElementCreator=void 0;class n{constructor(e,t,n){this.element=document.createElement(e),this.setElement(t,n)}setElement(e,t){this.setCssClasses(e),t&&this.setTextContent(t)}getElement(){return this.element}setCssClasses(e){Array.isArray(e)?this.element.classList.add(...e):this.element.classList.add(e)}setTextContent(e){this.element.textContent=e}addInnerElement(e){e instanceof n?this.element.append(e.getElement()):this.element.append(e)}}t.ElementCreator=n},507:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(111);t.default=class{constructor(e,t,n,s,i,a="text"){this.element=document.createElement("div"),this.inputElement=document.createElement("input"),this.labelElement=document.createElement("label"),this.setElement(e,t,n,a),this.setCallback(i),this.setValue(s)}setElement(e,t,n,s){this.setLabelTextContent(n),this.setCssClasses(e,t),this.labelElement.prepend(this.inputElement),this.element.append(this.labelElement),this.setType(s)}getElement(){return this.element}setValue(e){this.inputElement.value=e}setCssClasses(e,t){this.element.classList.add(`${e}__${t}-input-wrapper`),this.inputElement.classList.add(`${e}__${t}-input`),this.labelElement.classList.add(`${e}__${t}-label`)}setLabelTextContent(e){this.labelElement&&(this.labelElement.textContent=e)}setCallback(e){this.inputElement.addEventListener("keyup",(t=>e(t)))}setType(e){this.inputElement.setAttribute("type",e)}addInnerElement(e){e instanceof s.ElementCreator?this.element.append(e.getElement()):this.element.append(e)}}},754:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644);class i extends s.View{constructor(){super("footer","footer","SPA")}}t.default=i},271:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(111),a=n(644),l=s(n(563)),r=n(413),o="header",d="header__nav",u={INDEX:"Main",LOGIN:"Login",REGISTRATION:"Registration"};class c extends a.View{constructor(e){super("header",o),this.headerLinkElements=new Map,this.configView(e)}configView(e){const t=new i.ElementCreator("nav",d);Object.keys(u).forEach((n=>{const s={name:u[n],callback:()=>e.navigate(r.Pages[n])},i=new l.default(s.name,s.callback,this.headerLinkElements);t.addInnerElement(i.getHTMLElement()),this.headerLinkElements.set(r.Pages[n],i)})),this.viewElementCreator.addInnerElement(t)}setSelectedItem(e){const t=this.headerLinkElements.get(e);null==t||t.setSelectedStatus()}}t.default=c},563:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644),i="nav-item",a="nav-item__selected";class l extends s.View{constructor(e,t,n){super("a",i,e),this.linkElements=n,this.pageCallback=t,this.configView()}setSelectedStatus(){this.linkElements.forEach((e=>e.setNotSelectedStatus()));this.viewElementCreator.getElement().classList.add(a),this.pageCallback()}setNotSelectedStatus(){this.viewElementCreator.getElement().classList.remove(a)}configView(){this.viewElementCreator.getElement().addEventListener("click",this.setSelectedStatus.bind(this))}}t.default=l},578:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(111),i=n(644),a="index",l="index__title",r="ЭТО ГЛАВНАЯ СТРАНИЦА";class o extends i.View{constructor(){super("section",a),this.configView()}configView(){const e=new s.ElementCreator("h1",l,r);this.viewElementCreator.addInnerElement(e)}}t.default=o},291:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(111),a=s(n(507)),l=n(644),r="login",o="login__title",d="email",u="password",c="Ваш мейл",h="Ваш пароль",m="ЭТО СТРАНИЦА АВТОРИЗАЦИИ",f="login__email-input",p="login__password-input";class E extends l.View{constructor(e){super("section",r),this.state=e,this.configView()}configView(){const e=new i.ElementCreator("h1",o,m);this.viewElementCreator.addInnerElement(e);const t=new a.default(r,d,c,this.state.getValue(f),(e=>this.keyupHandler(e,f)));this.viewElementCreator.addInnerElement(t.getElement());const n=new a.default(r,u,h,this.state.getValue(p),(e=>this.keyupHandler(e,p)));this.viewElementCreator.addInnerElement(n.getElement())}keyupHandler(e,t){e.target instanceof HTMLInputElement&&this.state.setValue(t,e.target.value)}}t.default=E},707:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644);class i extends s.View{constructor(){super("main","main")}}t.default=i},156:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(111),a=s(n(507)),l=n(644),r="registration",o="registration__title",d="email",u="password",c="Ваш мейл",h="Ваш пароль",m="ЭТО СТРАНИЦА РЕГИСТРАЦИИ",f="registration__email-input",p="registration__password-input";class E extends l.View{constructor(e){super("section",r),this.state=e,this.configView()}configView(){const e=new i.ElementCreator("h1",o,m);this.viewElementCreator.addInnerElement(e);const t=new a.default(r,d,c,this.state.getValue(f),(e=>this.keyupHandler(e,f)));this.viewElementCreator.addInnerElement(t.getElement());const n=new a.default(r,u,h,this.state.getValue(p),(e=>this.keyupHandler(e,p)));this.viewElementCreator.addInnerElement(n.getElement())}keyupHandler(e,t){e.target instanceof HTMLInputElement&&this.state.setValue(t,e.target.value)}}t.default=E},644:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;const s=n(111);t.View=class{constructor(e,t,n){this.viewElementCreator=this.createView(e,t,n)}createView(e,t,n){return new s.ElementCreator(e,t,n)}getHTMLElement(){return this.viewElementCreator.getElement()}setContent(e){const t=this.viewElementCreator.getElement(),n=e.getHTMLElement();this.removeContent(t),this.viewElementCreator.addInnerElement(n)}removeContent(e){for(;e.firstChild;)e.firstChild.remove()}}},83:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});const s=n(644),i=["wrapper"];class a extends s.View{constructor(){super("div",i)}}t.default=a},303:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(183);new(s(n(477)).default)}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};n(303)}();